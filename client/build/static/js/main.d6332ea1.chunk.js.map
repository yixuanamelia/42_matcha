{"version":3,"sources":["components/pages/Login/Signin.service.js","components/pages/Login/Login.jsx","components/pages/Signup/Signup.service.js","components/pages/Signup/Signup.jsx","components/pages/ForgotPass/resetPwd.service.js","components/pages/ForgotPass/ForgotPass.jsx","components/pages/Main/interest.service.js","components/pages/Main/Home.service.js","components/pages/Main/SearchBar.jsx","components/pages/Main/location.service.js","components/pages/Main/UserItem.jsx","components/pages/Main/ResultUser.jsx","components/services/GetUserNotifi.service.js","components/pages/common/Navbar/Navbar.jsx","components/pages/common/Footer/Footer.jsx","components/pages/Main/Home.jsx","components/pages/Logout/Logout.js","components/services/UserLogout.service.js","components/services/EditUser.service.js","components/services/FetchUserInfo.service.js","components/services/GetAllInterests.service.js","components/services/GetUserLocation.service.js","components/pages/Profile/EditProfile.jsx","components/services/GetUserlikesDislikes.service.js","components/services/UpdateUserLikeDislike.service.js","components/services/BlockUser.service.js","components/services/VisitUser.service.js","components/services/ReportUser.service.js","components/pages/ProfileDetail/ProfileDetail.js","components/services/UpdateUserUnlikes.service.js","components/pages/Notifications/NotificationItem.js","components/pages/Notifications/NotificationsHome.js","components/services/FetchCurrentUserInfo.service.js","components/services/GetUserChatMessages.service.js","components/pages/Chat/chat.jsx","components/services/SaveUserchatMsg.service.js","components/services/GetUserChatContact.service.js","components/pages/Suggestion/SuggestionAlert.js","components/pages/Suggestion/SuggestionList.js","components/pages/Suggestion/Suggestion.js","App.js","serviceWorker.js","index.js","components/pages/utils/notification.js"],"names":["signinUser","data","Promise","resolve","reject","axios","post","process","then","results","code","history","createBrowserHistory","localStorage","setItem","token","userId","push","urlPath","window","location","href","catch","err","customNotification","require","Login","props","state","email","password","handleSubmit","bind","event","name","target","value","this","setState","e","preventDefault","valdateFormData","response","fireNotification","msg","validateEmail","RegExp","validatePass","test","className","data-validate","style","type","onChange","handlChange","placeholder","id","onClick","React","Component","signupUser","Signup","firstname","lastname","pseudonyme","confPassword","resgiterUser","handleChange","handlFormSubmit","checked","length","onSubmit","encType","sclassName","required","ResetPwdUser","emailOrUsername","put","res","ForgotPass","GetUserIntrests","a","getItem","get","headers","deg2rad","deg","Math","PI","CalculateDistance","userPos","userList","distance_array","userXY","split","elementXY","dist","undefined","forEach","element","localisation","lat1","lon1","lat2","lon2","dLat","dLon","sin","cos","atan2","sqrt","getDistanceFromLatLonInKm","filter_fame","rangeFame","id_list","parseInt","fame","filter_age","age","filter_tags","tags","tag","filter_tag","filter_dist","array","intersection","lists","result","arguments","i","currentList","y","currentValue","indexOf","existsInAll","x","applyFilteronUser","usersList","filter","tag_array","interests","filteredUser","IdsFilteredByFame","IdsFilteredByAge","IdsFilteredByTags","UserDists","IdsFiltered","rangeLocalisation","distance","IdsFilteredBySexefunc","wants","gender","IdsThatAreInA6000KmRadiusfunc","IdsTharAreInA30FameRadiusfunc","minRange","maxRange","applySuggestiononUsers","IdsFilteredBySexe","IdsThatAreInA6000KmRadius","IdsThatHaveAtLeast1TaginCommon","IdsTharAreInA30FameRadius","AddDistance","fetchAllUsersPublicData","Authorization","hasOwnProperty","Range","Slider","SearchBar","onLowerBoundChange","lowerBound","onUpperBoundChange","upperBound","onSliderChange","handleApply","handleSelectChange","selectedOption","SearchBarTags","interestsArray","handleUsersFilter","initUsersData","userInterest","initInterestArray","lat","lon","userLocation","marginBottom","display","justifyContent","filterStyle","textStyle","allowCross","min","max","isMulti","isSearchable","options","padding","width","float","backgroundColor","marginTop","color","UserItem","handleChargeUser","image","hobbies","description","user","images","profile_pic","bio","height","margin","overflow","position","alignItems","src","substring","alt","objectFit","map","hobbie","borderRadius","border","key","substr","to","ResultUser","users","flexWrap","GetuserNotifes","Navbar","showPopList","notifs","popVisible","visibleNotif","socketNotif","socket","io","room","connect","emit","on","likes","disconnect","class","rel","fontSize","notif","fullname","Moment","updatedAt","fromNow","Footer","Home","setTimeout","filterUsers","sortBy","initialUsers","userBuffer","updateSearch","userData","initUsers","buffer","sort","asc","u","console","log","newbuffer","tagfromlist","taguser","filteredUsers","somemargin","textAlign","Logout","pathUrl","editThisUser","dataHttp","FormData","profilePhoto","append","multiPhotos","Password","psudonym","SexualOrientation","Fame","Bibliography","toLowerCase","GetUserInfo","sourceUserId","getUserLocation","EditProfile","singleHObbi","showAddHobi","oldMultiPhotos","oldProfilePhoto","ProfileCompletion","handlePhotoesChange","addHobytag","handlFormSubmitAction","handleShowAddHoby","initPageProfileData","regLocation","userLocatData","profileData","initProfileInformation","interestData","validateData","userEdited","files","opt","newHobby","label","pictures","pics","path","userInfo","info","getProfilePicture","photoes","userInterests","pseudo","sexual_orientation","profile_completion","toString","accept","index","multiple","flex","for","disabled","rows","cols","getUserLikes","PutUpdateUserLikes","liked_userId","checker","liker_user_id","has_been_liked_user_id","BlockThisUser","blocked_userId","blocker_userId","VisitThisUser","visited_userId","visiter_userId","reportThisUser","reported_userId","reporter_userId","ProfileDetails","dislikes","countLikes","userHasLikedMe","countdisLikes","online","showLikes","handlelikes","handleBlock","handleReport","checkShowLikes","match","params","dataRes","userAction","title","likerId","likedId","time","dataIn","usLikes","unliked_userId","countDislikes","unliker_user_id","has_been_unliked_user_id","init","initDislike","liked","userActionInfo","pc","usInfo","usInterest","dislike","marginLeft","ref","hobi","NotificationItem","from","option","date","styling","type_ico","message","type_message","read","marginRight","textDecoration","NotificationsHome","dataNotif","concat","seen","categorie","GetCurrentUserInfo","GetuserChatMsg","dest_userId","Chat","msgContent","allUserChatContact","messagesInfo","initChatMessage","sendMessageToUser","selectChatContact","allMsg","messages","Allmessages","socketMsg","pos","photo","msgData","source_userId","contactData","userChatMsg","initMegList","dest_fullname","dest_photo","msgs","msgsList","source_user_id","message_text","createdAt","msgInfo","background","SuggestionAlert","role","link","SuggestionList","onfetchAllUsersPublicData","AgeMin","AgeMax","tmpbuff","tagss","Suggestion","dataLocation","userInterestData","dataUserInfo","dataFetchAllUser","config","App","AuthRoute","component","rest","render","decode","exp","Date","getTime","checkAuth","pathname","exact","Notifications","ProfileDetail","Boolean","hostname","createHistory","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","toast","POSITION","TOP_RIGHT"],"mappings":"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","file":"static/js/main.d6332ea1.chunk.js","sourcesContent":["import axios from \"axios/index\";\nimport { createBrowserHistory } from \"history\";\n\nexport default function signinUser(data) {\n    return new Promise((resolve, reject) => {\n        axios.post(process.env.REACT_APP_API_URL + \"/users/login\", data)\n            .then(results => {\n                if (results.data.code === 200) {\n                    let history = createBrowserHistory();\n                    localStorage.setItem('token', results.data.token);\n                    localStorage.setItem('userId', results.data.userId);\n                    history.push(\"/\");\n                    let urlPath = window.location.href;\n                    window.location.href = urlPath;\n\n                } else {\n                    resolve(results.data);\n                }\n            })\n            .catch(err => {\n                resolve(err);\n            });\n    })\n};\n\n\n","import React from \"react\";\nimport './login.css';\nimport signinUser from './Signin.service';\nimport { ToastContainer } from 'react-toastify';\nconst customNotification = require('../utils/notification');\n\nclass Login extends React.Component {\n  // Like in Signin add state for the needed variables : username/email + password\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n    }\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  // Get the use input\n  handlChange(event) {\n    let name = event.target.name;\n    let value = event.target.value;\n    this.setState({\n      [name]: value\n    })\n  }\n\n  async handleSubmit(e) {\n    e.preventDefault();\n    let data = {\n      email: this.state.email,\n      password: this.state.password\n    }\n\n    if (this.valdateFormData()) {\n      // Sumbit/post to server\n      let response = await signinUser(data);\n      if (response.code !== 200)\n        customNotification.fireNotification(\"warning\", response.msg)\n    }\n  }\n\n  // Create a funciton for validation like in signin\n  // Password and email are valid\n  valdateFormData() {\n    let validateEmail = new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,15}/g);\n    let validatePass = new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,})\");\n    if (!validateEmail.test(this.state.email)) {\n      customNotification.fireNotification(\"warning\", \"Email not valid\")\n      return false;\n    } else if (!validatePass.test(this.state.password)) {\n      customNotification.fireNotification(\"warning\", \"Password not valid\")\n    }\n    return true;\n  }\n\n  // Create a submit function like in signin\n  // post the information\n\n  // Create a service file like in Signin\n  // in the login.service make an axios call to /users/login and send the needed data\n\n\n  render() {\n    return (\n      <div className=\"limiter\">\n        <ToastContainer />\n        <div className=\"container-login100\">\n          <div className=\"login100-more\"></div>\n\n          <div className=\"wrap-login100 p-l-50 p-r-50 p-t-72 p-b-50\">\n            <form className=\"login100-form validate-form\">\n              <span className=\"login100-form-title p-b-59\">\n                Log in\n\t\t\t\t\t    </span>\n              <div className=\"wrap-input100 validate-input\" data-validate=\"Username is required\">\n                <span className=\"label-input100\" style={{ 'font-size': '22px' }}>Email</span>\n                <input className=\"input100\" type=\"text\" name=\"email\" style={{ 'font-size': '15px' }} onChange={(event) => this.handlChange(event)} placeholder=\"Enter your username or email\" />\n                <span className=\"focus-input100\"></span>\n              </div>\n\n              <div className=\"wrap-input100 validate-input\" data-validate=\"Password is required\">\n                <span className=\"label-input100\" style={{ 'font-size': '22px' }}>Password</span>\n                <input className=\"input100\" type=\"password\" name=\"password\" style={{ 'font-size': '15px' }} onChange={(event) => this.handlChange(event)} placeholder=\"Enter your password\" />\n                <span className=\"focus-input100\"></span>\n              </div>\n\n              <div className=\"flex-m w-full p-b-33\">\n                <div className=\"contact100-form-checkbox\">\n                  <input className=\"input-checkbox100\" id=\"ckb1\" type=\"checkbox\" name=\"remember-me\" />\n                  <div className=\"flex-m w-full p-b-33\">\n\n                    <div className=\"contact100-form-checkbox\">\n                      <span className=\"txt1\">\n                        <a href=\"/forgotPass\" className=\"txt2 hov1\">\n                          Forgot Password?\n\t\t\t\t\t\t\t\t\t</a>\n                      </span>\n\n                    </div>\n\n                  </div>\n\n\n                  <div className=\"container-login100-form-btn\">\n                    <div className=\"wrap-login100-form-btn\">\n                      <div className=\"login100-form-bgbtn\"></div>\n                      <button onClick={(e) => this.handleSubmit(e)} type=\"submit\" className=\"login100-form-btn\">\n                        Sign in\n\t\t\t\t\t\t\t</button>\n                    </div>\n\n                    <a href=\"/signup\" className=\"dis-block txt3 hov1 p-r-30 p-t-10 p-b-10 p-l-30\">\n                      Sign up\n\t\t\t\t\t\t\t<i className=\"fa fa-long-arrow-right m-l-5\"></i>\n                    </a>\n                  </div>\n\n                </div>\n              </div>\n\n\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default Login;","import axios from \"axios/index\";\n\nexport default function signupUser(data) {\n    return new Promise((resolve, reject) => {\n        axios.post(process.env.REACT_APP_API_URL + \"/users/register\", data)\n            .then(results => {\n                resolve(results.data);\n            })\n            .catch(err => {\n                resolve(err);\n            });\n    })\n};\n","import React from \"react\";\n\nimport './Signup.css';\nimport { ToastContainer } from 'react-toastify';\nimport signupUser from './Signup.service';\nconst customNotification = require('../utils/notification');\n\nclass Signup extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            firstname: \"\",\n            lastname: \"\",\n            pseudonyme: \"\",\n            password: \"\",\n            email: \"\",\n            confPassword: \"\",\n            resgiterUser: \"\",\n        }\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handlFormSubmit = this.handlFormSubmit.bind(this);\n    }\n\n    async handlFormSubmit(e) {\n        e.preventDefault();\n        if (this.valdateFormData()) {\n            let response = await signupUser(this.state);\n            if (response.msg !== \"\" && response.code === 204)\n                customNotification.fireNotification(\"error\", response.msg)\n            if (response.msg !== \"\" && response.code === 200)\n                customNotification.fireNotification(\"success\", response.msg)\n        }\n    }\n\n    handleChange(event) {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    valdateFormData() {\n        let validateEmail = new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,15}/g);\n        let validatePass = new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\\$%\\^&\\*])(?=.{8,})\");\n        if (this.state.password !== this.state.confPassword) {\n            customNotification.fireNotification(\"warning\", \"Passwords does not match\")\n            return false;\n        } else if (this.state.password.length < 8) {\n            customNotification.fireNotification(\"warning\", \"Password must contain at least 8 characters\")\n            return false;\n        } else if (!validateEmail.test(this.state.email)) {\n            customNotification.fireNotification(\"warning\", \"Email not valid\")\n            return false;\n        } else if (!validatePass.test(this.state.password)) {\n            customNotification.fireNotification(\"warning\", \"Password not valid\")\n        }\n        return true;\n    }\n\n    render() {\n        return (\n            <div className=\"limiter\">\n                <ToastContainer />\n                <div className=\"container-login100\">\n                    <div className=\"login100-more\"></div>\n\n                    <div className=\"wrap-login100 p-l-50 p-r-50 p-t-72 p-b-50\">\n                        <form onSubmit={this.handlFormSubmit} encType=\"multipart/form-data\" sclassName=\"login100-form validate-form\">\n                            <span className=\"login100-form-title p-b-59\">\n                                Sign Up\n\t\t\t\t\t</span>\n\n                            <div className=\"wrap-input100 validate-input\" data-validate=\"Name is required\">\n                                <span className=\"label-input100\">Firstname</span>\n                                <input className=\"input100\" onChange={this.handleChange} name=\"firstname\" type=\"text\" placeholder=\"firstname...\" required />\n                                <span className=\"focus-input100\"></span>\n                            </div>\n\n                            <div className=\"wrap-input100 validate-input\" data-validate=\"Name is required\">\n                                <span className=\"label-input100\">Lastname</span>\n                                <input className=\"input100\" onChange={this.handleChange} name=\"lastname\" type=\"text\" placeholder=\"lastname...\" required />\n                                <span className=\"focus-input100\"></span>\n                            </div>\n\n                            <div className=\"wrap-input100 validate-input\" data-validate=\"Name is required\">\n                                <span className=\"label-input100\">Pseudonyme</span>\n                                <input className=\"input100\" onChange={this.handleChange} name=\"pseudonyme\" name=\"pseudonyme\" type=\"text\" placeholder=\"pseudonyme...\" required />\n                                <span className=\"focus-input100\"></span>\n                            </div>\n\n                            <div className=\"wrap-input100 validate-input\" data-validate=\"Valid email is required: ex@abc.xyz\">\n                                <span className=\"label-input100\">Email</span>\n                                <input className=\"input100\" type=\"text\" onChange={this.handleChange} name=\"email\" placeholder=\"Email addess...\" required />\n                                <span className=\"focus-input100\"></span>\n                            </div>\n\n\n                            <div className=\"wrap-input100 validate-input\" data-validate=\"Password is required\">\n                                <span className=\"label-input100\">Password</span>\n                                <input className=\"input100\" type=\"password\" onChange={this.handleChange} name=\"password\" placeholder=\"*************\" required />\n                                <span className=\"focus-input100\"></span>\n                            </div>\n\n                            <div className=\"wrap-input100 validate-input\" data-validate=\"Repeat Password is required\">\n                                <span className=\"label-input100\">Repeat Password</span>\n                                <input className=\"input100\" type=\"password\" onChange={this.handleChange} name=\"confPassword\" placeholder=\"*************\" required />\n                                <span className=\"focus-input100\"></span>\n                            </div>\n\n                            {/* <div className=\"flex-m w-full p-b-33\">\n                                <div className=\"contact100-form-checkbox\">\n                                    <input className=\"input-checkbox100\" id=\"ckb1\" type=\"checkbox\" name=\"remember-me\" />\n                                    <label className=\"label-checkbox100\" for=\"ckb1\">\n                                        <span className=\"txt1\">\n                                            I agree to the\n\t\t\t\t\t\t\t\t\t<a href=\"#\" className=\"txt2 hov1\">\n                                                Terms of User\n\t\t\t\t\t\t\t\t\t</a>\n                                        </span>\n                                    </label>\n                                </div>\n\n\n                            </div> */}\n\n                            <div className=\"container-login100-form-btn\">\n                                <div className=\"wrap-login100-form-btn\">\n                                    <div className=\"login100-form-bgbtn\"></div>\n                                    <button type=\"submit\" className=\"login100-form-btn\">\n                                        Sign Up\n\t\t\t\t\t\t\t</button>\n                                </div>\n\n                                <a href=\"/login\" className=\"dis-block txt3 hov1 p-r-30 p-t-10 p-b-10 p-l-30\">\n                                    Sign in\n\t\t\t\t\t\t\t<i className=\"fa fa-long-arrow-right m-l-5\"></i>\n                                </a>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n};\n\nexport default Signup;","import axios from \"axios/index\";\n\nexport function ResetPwdUser(emailOrUsername) {\n    return new Promise((resolve, reject) => {\n        axios.put(process.env.REACT_APP_API_URL + \"/users/resetpwd\", {\n            \"emailOrUsername\": emailOrUsername,\n        }, { 'content-type': 'application/x-www-form-urlencoded' })\n            .then(res => {\n                resolve(res.data)\n            })\n            .catch(err => {\n                resolve(false)\n            });\n    })\n\n};","import React from \"react\";\nimport { ToastContainer } from 'react-toastify';\nimport { ResetPwdUser } from './resetPwd.service';\nconst customNotification = require('../utils/notification');\n\nclass ForgotPass extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      email: \"\",\n    }\n\n    this.handleChange = this.handleChange.bind(this);\n    this.valdateFormData = this.valdateFormData.bind(this);\n    this.handlFormSubmit = this.handlFormSubmit.bind(this);\n  }\n\n  async handlFormSubmit(e) {\n    e.preventDefault();\n    if (this.valdateFormData()) {\n      let data = await ResetPwdUser(this.state.email);\n\n      if (data.code === 200)\n        customNotification.fireNotification(\"success\", data.msg)\n      if (data !== \"\" && data.code === 205)\n        customNotification.fireNotification(\"warning\", data.msg)\n      if (data !== \"\" && data.code === 500)\n        customNotification.fireNotification(\"error\", data.msg)\n    }\n  }\n\n  valdateFormData() {\n    let validateEmail = new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,15}/g);\n    if (!validateEmail.test(this.state.email)) {\n      customNotification.fireNotification(\"warning\", \"Email not valid\")\n      return false;\n    }\n    return true;\n  }\n\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n\n  render() {\n    return (\n      <div className=\"limiter\">\n        <ToastContainer />\n        <div className=\"container-login100\">\n          <div className=\"login100-more\"></div>\n\n          <div className=\"wrap-login100 p-l-50 p-r-50 p-t-72 p-b-50\">\n            <form className=\"login100-form validate-form\">\n              <span className=\"login100-form-title p-b-59\">\n                Forgot Password?\n\t\t\t\t\t    </span>\n              <p>You can reset your password here.\n              </p>\n\n              <div className=\"wrap-input100 validate-input\" data-validate=\"Password is required\">\n                <input className=\"input100\" type=\"text\" name=\"email\" onChange={this.handleChange} placeholder=\"email adress\" />\n                <span className=\"focus-input100\"></span>\n              </div>\n\n\n              <div className=\"flex-m w-full p-b-33\">\n                <div className=\"container-login100-form-btn\">\n                  <div className=\"wrap-login100-form-btn\">\n                    <div className=\"login100-form-bgbtn\"></div>\n                    <button onClick={(e) => {this.handlFormSubmit(e)}} type=\"submit\" className=\"login100-form-btn\">\n                      Send\n\t\t\t\t\t\t\t        </button>\n                  </div>\n\n                  <a href=\"/login\" className=\"dis-block txt3 hov1 p-r-30 p-t-10 p-b-10 p-l-30\">\n                    Sign in\n\t\t\t\t\t\t\t<i className=\"fa fa-long-arrow-right m-l-5\"></i>\n                  </a>\n                </div>\n              </div>\n\n\n\n            </form>\n\n\n          </div>\n        </div>\n      </div>\n\n    );\n  };\n}\n\n\nexport default ForgotPass;\n\n","import axios from \"axios/index\";\n\nexport function GetUserIntrests(userId) {\n    return new Promise(async (resolve, reject) => {\n        const token = localStorage.getItem(\"token\");\n\n        axios.get(process.env.REACT_APP_API_URL + \"/users/interests/\" + userId, {\n            headers: {\n                \"Authorization\": `Bearer ` + token\n            }\n        })\n            .then(results => {\n                resolve(results.data);\n            })\n            .catch(err => {\n                resolve(false);\n            });\n    })\n}","import axios from 'axios/index';\n\nfunction deg2rad(deg) {\n\treturn deg * (Math.PI / 180);\n}\n\nfunction getDistanceFromLatLonInKm(lat1, lon1, lat2, lon2) {\n\tvar R = 6371; // Radius of the earth in km\n\tvar dLat = deg2rad(lat2 - lat1); // deg2rad below\n\tvar dLon = deg2rad(lon2 - lon1);\n\tvar a =\n\t\tMath.sin(dLat / 2) * Math.sin(dLat / 2) +\n\t\tMath.cos(deg2rad(lat1)) *\n\t\t\tMath.cos(deg2rad(lat2)) *\n\t\t\tMath.sin(dLon / 2) *\n\t\t\tMath.sin(dLon / 2);\n\tvar c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\tvar d = R * c; // Distance in km\n\treturn d;\n}\n\nfunction CalculateDistance(userPos, userList) {\n\tvar distance_array = [];\n\tvar userXY = userPos.split(',');\n\tvar elementXY = [];\n\tvar dist = 0;\n\n\tif (userPos === undefined || userPos === '') userPos = '48.8543,2.3527';\n\n\tuserList.forEach((element) => {\n\t\telementXY = element.localisation.split(',');\n\t\tdist = getDistanceFromLatLonInKm(\n\t\t\tuserXY[0],\n\t\t\tuserXY[1],\n\t\t\telementXY[0],\n\t\t\telementXY[1]\n\t\t);\n\t\tdistance_array[element.id] = {\n\t\t\tid: element.id,\n\t\t\tdist: dist,\n\t\t};\n\t});\n\n\treturn distance_array;\n}\n\nfunction filter_fame(userList, rangeFame) {\n\tvar id_list = [];\n\tuserList.forEach((element) => {\n\t\tif (parseInt(element.fame) >= parseInt(rangeFame)) {\n\t\t\tid_list.push(element.id);\n\t\t}\n\t});\n\treturn id_list;\n}\n\nfunction filter_age(userList, age) {\n\tvar id_list = [];\n\tuserList.forEach((element) => {\n\t\tif (\n\t\t\tparseInt(element.age) >= parseInt(age[0]) &&\n\t\t\tparseInt(element.age) <= parseInt(age[1])\n\t\t) {\n\t\t\tid_list.push(element.id);\n\t\t}\n\t});\n\treturn id_list;\n}\n\nfunction filter_tags(userList, tags) {\n\tvar id_list = [];\n\tif (tags.length === 0) {\n\t\tuserList.forEach((element) => {\n\t\t\tid_list.push(element.id);\n\t\t});\n\t} else {\n\t\tuserList.forEach((element) => {\n\t\t\telement.tags.forEach((tag) => {\n\t\t\t\ttags.forEach((filter_tag) => {\n\t\t\t\t\tif (filter_tag === tag) {\n\t\t\t\t\t\tid_list.push(element.id);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\treturn id_list;\n}\n\nfunction filter_dist(array, dist) {\n\tvar id_list = [];\n\tarray.forEach((element) => {\n\t\tif (element.dist <= dist) {\n\t\t\tid_list.push(element.id);\n\t\t}\n\t});\n\treturn id_list;\n}\n\nfunction intersection() {\n\tvar result = [];\n\tvar lists;\n\n\tif (arguments.length === 1) {\n\t\tlists = arguments[0];\n\t} else {\n\t\tlists = arguments;\n\t}\n\n\tfor (var i = 0; i < lists.length; i++) {\n\t\tvar currentList = lists[i];\n\t\tfor (var y = 0; y < currentList.length; y++) {\n\t\t\tvar currentValue = currentList[y];\n\t\t\tif (result.indexOf(currentValue) === -1) {\n\t\t\t\tvar existsInAll = true;\n\t\t\t\tfor (var x = 0; x < lists.length; x++) {\n\t\t\t\t\tif (lists[x].indexOf(currentValue) === -1) {\n\t\t\t\t\t\texistsInAll = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (existsInAll) {\n\t\t\t\t\tresult.push(currentValue);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn result;\n}\n\nasync function applyFilteronUser(usersList, filter) {\n\treturn new Promise((resolve, reject) => {\n\t\t// console.log(\"User list : \", usersList);\n\t\t// console.log(\"filter :\", filter);\n\t\tvar tag_array = [];\n\t\tif (filter[0].interests !== null) {\n\t\t\tfilter[0].interests.forEach((element) => {\n\t\t\t\ttag_array.push(element.value);\n\t\t\t});\n\t\t}\n\n\t\tif (usersList.code === 200) {\n\t\t\tvar filteredUser = [];\n\n\t\t\tvar IdsFilteredByFame = filter_fame(usersList.data, filter[0].rangeFame);\n\t\t\tvar IdsFilteredByAge = filter_age(usersList.data, filter[0].age);\n\t\t\tvar IdsFilteredByTags = filter_tags(usersList.data, tag_array);\n\n\t\t\tvar UserDists = CalculateDistance(filter[0].userPos, usersList.data);\n\n\t\t\tvar IdsFilteredByDist = filter_dist(\n\t\t\t\tUserDists,\n\t\t\t\tfilter[0].rangeLocalisation\n\t\t\t);\n\n\t\t\tvar IdsFiltered = intersection(\n\t\t\t\tIdsFilteredByFame,\n\t\t\t\tIdsFilteredByAge,\n\t\t\t\tIdsFilteredByTags,\n\t\t\t\tIdsFilteredByDist\n\t\t\t);\n\n\t\t\tusersList.data.forEach((element) => {\n\t\t\t\tIdsFiltered.forEach((id) => {\n\t\t\t\t\tif (parseInt(element.id) === parseInt(id)) {\n\t\t\t\t\t\tUserDists.forEach((dist) => {\n\t\t\t\t\t\t\tif (dist.id === element.id) {\n\t\t\t\t\t\t\t\telement.distance = dist.dist;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tfilteredUser.push(element);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tresolve(filteredUser);\n\t\t} else {\n\t\t\tresolve([]);\n\t\t}\n\t});\n}\n\nasync function IdsFilteredBySexefunc(userList, wants) {\n\tvar id_list = [];\n\t// console.log(wants);\n\tif (wants === 'B') {\n\t\tuserList.forEach((element) => id_list.push(element.id));\n\t} else {\n\t\tuserList.forEach((element) => {\n\t\t\tif (element.gender === wants) {\n\t\t\t\tid_list.push(element.id);\n\t\t\t}\n\t\t});\n\t}\n\treturn id_list;\n}\n\nasync function IdsThatAreInA6000KmRadiusfunc(array, dist) {\n\tvar id_list = [];\n\tarray.forEach((element) => {\n\t\tif (element.dist <= dist) {\n\t\t\tid_list.push(element.id);\n\t\t}\n\t});\n\treturn id_list;\n}\n\nasync function IdsTharAreInA30FameRadiusfunc(userList, rangeFame) {\n\tvar id_list = [];\n\tvar minRange = parseInt(rangeFame) - 30;\n\tvar maxRange = parseInt(rangeFame) + 30;\n\tuserList.forEach((element) => {\n\t\tif (\n\t\t\tparseInt(element.fame) > minRange &&\n\t\t\tparseInt(element.fame) < maxRange\n\t\t) {\n\t\t\tid_list.push(element.id);\n\t\t}\n\t});\n\treturn id_list;\n}\n\nasync function applySuggestiononUsers(userList, filter) {\n\treturn new Promise(async (resolve, reject) => {\n\t\tif (userList.code === 200) {\n\t\t\t// console.log(userList.data);\n\t\t\t// console.log(filter);\n\t\t\tvar filteredUser = [];\n\n\t\t\tlet IdsFilteredBySexe = await IdsFilteredBySexefunc(\n\t\t\t\tuserList.data,\n\t\t\t\tfilter.wants\n\t\t\t);\n\t\t\t// console.log(IdsFilteredBySexe);\n\n\t\t\tvar UserDists = CalculateDistance(filter.location, userList.data);\n\t\t\t// console.log(UserDists);\n\n\t\t\tlet IdsThatAreInA6000KmRadius = await IdsThatAreInA6000KmRadiusfunc(\n\t\t\t\tUserDists,\n\t\t\t\t10000\n\t\t\t);\n\t\t\t// console.log(IdsThatAreInA6000KmRadius);\n\t\t\tlet IdsThatHaveAtLeast1TaginCommon = filter_tags(\n\t\t\t\tuserList.data,\n\t\t\t\tfilter.tags\n\t\t\t);\n\t\t\t// console.log(IdsThatHaveAtLeast1TaginCommon);\n\t\t\tlet IdsTharAreInA30FameRadius = await IdsTharAreInA30FameRadiusfunc(\n\t\t\t\tuserList.data,\n\t\t\t\tfilter.fame\n\t\t\t);\n\t\t\t// console.log(IdsTharAreInA30FameRadius);\n\n\t\t\tvar IdsFiltered = intersection(\n\t\t\t\tIdsFilteredBySexe,\n\t\t\t\tIdsThatAreInA6000KmRadius,\n\t\t\t\tIdsThatHaveAtLeast1TaginCommon,\n\t\t\t\tIdsTharAreInA30FameRadius\n\t\t\t);\n\t\t\t// console.log('result', IdsFiltered);\n\n\t\t\tuserList.data.forEach((element) => {\n\t\t\t\tIdsFiltered.forEach((id) => {\n\t\t\t\t\tif (parseInt(element.id) === parseInt(id)) {\n\t\t\t\t\t\tUserDists.forEach((dist) => {\n\t\t\t\t\t\t\tif (dist.id === element.id) {\n\t\t\t\t\t\t\t\telement.distance = dist.dist;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tfilteredUser.push(element);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tresolve(filteredUser);\n\t\t} else {\n\t\t\tresolve([]);\n\t\t}\n\t});\n}\n\nasync function AddDistance(userList) {\n\treturn new Promise(async (resolve, reject) => {\n\t\tif (userList.code === 200) {\n\t\t\tvar UserDists = CalculateDistance('48.8543,2.3527', userList.data);\n\n\t\t\tuserList.data.forEach((element) => {\n\t\t\t\tUserDists.forEach((dist) => {\n\t\t\t\t\tif (dist.id === element.id) {\n\t\t\t\t\t\telement.distance = dist.dist;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tresolve(userList.data);\n\t\t} else {\n\t\t\tresolve([]);\n\t\t}\n\t});\n}\n\nexport function fetchAllUsersPublicData(filter) {\n\treturn new Promise(async (resolve, reject) => {\n\t\tconst token = localStorage.getItem('token');\n\t\tconst userId = localStorage.getItem('userId');\n\n\t\taxios\n\t\t\t.get(process.env.REACT_APP_API_URL + '/users/publicData/' + userId, {\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then(async (results) => {\n\t\t\t\tif (filter.length === 0) resolve(await AddDistance(results.data));\n\t\t\t\telse {\n\t\t\t\t\tif (filter.hasOwnProperty('Suggestion')) {\n\t\t\t\t\t\tresolve(await applySuggestiononUsers(results.data, filter));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(await applyFilteronUser(results.data, filter));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tresolve(err);\n\t\t\t});\n\t});\n}\n","import React, { Component } from 'react';\nimport Select from 'react-select';\nimport { GetUserIntrests } from './interest.service';\nimport Slider from 'rc-slider';\nimport { fetchAllUsersPublicData } from './Home.service';\nimport { getUserLocation } from './location.service';\n\nconst Range = Slider.Range;\n\nexport class SearchBar extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tlowerBound: 20,\n\t\t\tupperBound: 40,\n\t\t\tvalue: [20, 40],\n\t\t\tSearchBar: '',\n\t\t\trangeFame: 0,\n\t\t\trangeLocalisation: 20,\n\t\t\tSearchBarTags: '',\n\t\t\tinterestsArray: [],\n\t\t\tselectedOption: [],\n\t\t\tlocation: '',\n\t\t};\n\n\t\tthis.handleUsersFilter = this.handleUsersFilter.bind(this);\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.handleSelectChange = this.handleSelectChange.bind(this);\n\t}\n\n\tasync handleUsersFilter(e) {\n\t\te.preventDefault();\n\t\tlet filter = [\n\t\t\t{\n\t\t\t\tuserPos: this.state.location,\n\t\t\t\trangeFame: this.state.rangeFame,\n\t\t\t\tage: this.state.value,\n\t\t\t\tinterests: this.state.selectedOption,\n\t\t\t\trangeLocalisation: parseInt(this.state.rangeLocalisation),\n\t\t\t},\n\t\t];\n\t\tlet results = await fetchAllUsersPublicData(filter);\n\t\tthis.props.initUsersData(results);\n\t}\n\n\tonLowerBoundChange = (e) => {\n\t\tthis.setState({ lowerBound: +e.target.value });\n\t};\n\tonUpperBoundChange = (e) => {\n\t\tthis.setState({ upperBound: +e.target.value });\n\t};\n\tonSliderChange = (value) => {\n\t\tthis.setState({\n\t\t\tvalue,\n\t\t});\n\t};\n\thandleApply = () => {\n\t\tconst { lowerBound, upperBound } = this.state;\n\t\tthis.setState({ value: [lowerBound, upperBound] });\n\t};\n\n\tasync UNSAFE_componentWillMount() {\n\t\tconst userId = localStorage.getItem('userId');\n\t\tlet userInterest = await GetUserIntrests(userId);\n\t\tthis.initInterestArray(userInterest.data);\n\n\t\tlet userLocation = await getUserLocation();\n\t\tif (this.state.location === '' && userLocation !== '') {\n\t\t\tthis.setState({\n\t\t\t\tlocation: userLocation,\n\t\t\t});\n\t\t}\n\t}\n\n\thandleSelectChange = (selectedOption) => {\n\t\tthis.setState({ selectedOption });\n\t};\n\n\tinitInterestArray(interests) {\n\t\tthis.setState({\n\t\t\tinterestsArray: interests,\n\t\t});\n\t}\n\n\tonChange = (e) => {\n\t\te.preventDefault();\n\t\tthis.setState({ [e.target.name]: e.target.value });\n\t};\n\n\trender() {\n\t\t// const {valuesearchBar, valuerangeAgeFrom, valuerangeAgeTo, valuerangeFame, valuerangeLocalisation } = this.state;\n\t\treturn (\n\t\t\t<form style={{ marginBottom: '2rem' }}>\n\t\t\t\t<div\n\t\t\t\t\tclassName=''\n\t\t\t\t\tstyle={{ display: 'flex', justifyContent: 'space-around' }}>\n\t\t\t\t\t<div className='' style={filterStyle}>\n\t\t\t\t\t\t<h3\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t'font-family': 'Nunito, sans-serif',\n\t\t\t\t\t\t\t\t'font-family': 'Yellowtail,cursive',\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\tAge\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<p style={textStyle}>\n\t\t\t\t\t\t\tFrom {this.state.value[0]} to {this.state.value[1]}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t{/* <p>from {this.state.rangeAgeFrom} years old</p>\n                        <input type=\"range\" className=\"custom-range\" id=\"rangeAgeFrom\" name=\"rangeAgeFrom\" min=\"18\" max=\"79\" value={this.state.rangeAgeFrom} onChange={this.onChange} />\n                        <p>to {this.state.rangeAgeTo} years old</p>\n                        <input type=\"range\" className=\"custom-range\" id=\"rangeAgeTo\" name=\"rangeAgeTo\" min=\"19\" max=\"80\" value={this.state.rangeAgeTo} onChange={this.onChange} /> */}\n\t\t\t\t\t\t<Range\n\t\t\t\t\t\t\tallowCross={false}\n\t\t\t\t\t\t\tvalue={this.state.value}\n\t\t\t\t\t\t\tonChange={this.onSliderChange}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<h3\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t'font-family': 'Nunito, sans-serif',\n\t\t\t\t\t\t\t\t'font-family': 'Yellowtail,cursive',\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\tFame\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<p style={textStyle}>\n\t\t\t\t\t\t\tSearch users above {this.state.rangeFame} Fame\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='range'\n\t\t\t\t\t\t\tclassName='custom-range'\n\t\t\t\t\t\t\tid='rangeFame'\n\t\t\t\t\t\t\tname='rangeFame'\n\t\t\t\t\t\t\tmin='0'\n\t\t\t\t\t\t\tmax='100'\n\t\t\t\t\t\t\tvalue={this.state.rangeFame}\n\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='' style={filterStyle}>\n\t\t\t\t\t\t<h3\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t'font-family': 'Nunito, sans-serif',\n\t\t\t\t\t\t\t\t'font-family': 'Yellowtail,cursive',\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\tLocalisation\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<p style={textStyle}>\n\t\t\t\t\t\t\tSearch users {this.state.rangeLocalisation}km\n\t\t\t\t\t\t\t{`${this.state.rangeLocalisation > 1 ? 's' : ''}`} from you\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype='range'\n\t\t\t\t\t\t\tclassName='custom-range'\n\t\t\t\t\t\t\tid='rangeLocalisation'\n\t\t\t\t\t\t\tname='rangeLocalisation'\n\t\t\t\t\t\t\tmin='1'\n\t\t\t\t\t\t\tmax='20000'\n\t\t\t\t\t\t\tvalue={this.state.rangeLocalisation}\n\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<h3\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t'font-family': 'Nunito, sans-serif',\n\t\t\t\t\t\t\t\t'font-family': 'Yellowtail,cursive',\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\tSelect Interests\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\tisSearchable\n\t\t\t\t\t\t\tplaceholder='Select your interest'\n\t\t\t\t\t\t\tvalue={this.state.selectedOption}\n\t\t\t\t\t\t\tonChange={this.handleSelectChange}\n\t\t\t\t\t\t\toptions={this.state.interestsArray}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<hr style={{ 'margin-top': '10px' }}></hr>\n\t\t\t\t\t\t<span className='input-group-btn'>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tstyle={{ 'margin-top': '15px', padding: '10px' }}\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\tthis.handleUsersFilter(e);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttype='Search'\n\t\t\t\t\t\t\t\tclassName='btn btn-light btn-block'>\n\t\t\t\t\t\t\t\tSearch\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nconst filterStyle = {\n\twidth: '45%',\n\tfloat: 'left',\n\tpadding: '1.5rem',\n\tbackgroundColor: '#f0c6dc',\n\tmarginTop: '2rem',\n\t'border-radius': '20px',\n\tcolor: '#443737',\n};\n\nconst textStyle = {\n\t'margin-top': '1px',\n};\n\nexport default SearchBar;\n","import axios from 'axios/index';\n\nexport function getUserLocation() {\n\treturn new Promise(async (resolve, reject) => {\n\t\taxios\n\t\t\t.get('http://ip-api.com/json')\n\t\t\t.then((response) => {\n\t\t\t\tresolve(response.data.lat + ',' + response.data.lon);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tresolve('');\n\t\t\t});\n\t});\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport class UserItem extends Component {\n\thandleChargeUser = (e) => {\n\t\te.preventDefault();\n\t};\n\n\trender() {\n\t\tvar image, name, hobbies, description;\n\t\tif (this.props.user.images.profile_pic)\n\t\t\timage = this.props.user.images.profile_pic;\n\t\telse\n\t\t\timage =\n\t\t\t\t'https://images.unsplash.com/photo-1528892952291-009c663ce843?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=592&q=80';\n\t\tif (this.props.user.firstname) name = this.props.user.firstname;\n\t\telse name = 'Patrick';\n\t\tif (this.props.user.tags) hobbies = this.props.user.tags;\n\t\telse hobbies = ['biere', 'foot', 'netflix'];\n\t\tif (this.props.user.bio) description = this.props.user.bio;\n\t\telse description = 'salut les amis';\n\t\t// const {image, name, hobbies, description} = this.props.user;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName='card text-center'\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: '18rem',\n\t\t\t\t\theight: '40rem',\n\t\t\t\t\tfloat: 'left',\n\t\t\t\t\tmargin: '1rem',\n\t\t\t\t}}>\n\t\t\t\t<div\n\t\t\t\t\tclassName=''\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '18rem',\n\t\t\t\t\t\theight: '22rem',\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t}}>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\timage.substring(0, 4) !== 'http'\n\t\t\t\t\t\t\t\t? process.env.REACT_APP_API_URL + '/' + image\n\t\t\t\t\t\t\t\t: image\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName='card-img-top '\n\t\t\t\t\t\talt=''\n\t\t\t\t\t\tstyle={{ objectFit: 'cover', width: '100%' }}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<h3 className='card-title'>{name}</h3>\n\t\t\t\t<nav\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tjustifyContent: 'space-around',\n\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t}}>\n\t\t\t\t\t{hobbies.map(\n\t\t\t\t\t\t(hobbie, i) =>\n\t\t\t\t\t\t\ti < 3 && (\n\t\t\t\t\t\t\t\t<h5\n\t\t\t\t\t\t\t\t\tclassName='card-subtitle'\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tborderRadius: '5px',\n\t\t\t\t\t\t\t\t\t\tborder: '1px solid gainsboro',\n\t\t\t\t\t\t\t\t\t\tpadding: '1px',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tkey={i}>\n\t\t\t\t\t\t\t\t\t{hobbie.substr(0, 10) !== hobbie\n\t\t\t\t\t\t\t\t\t\t? hobbie.substr(0, 10) + '...'\n\t\t\t\t\t\t\t\t\t\t: hobbie}\n\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t)}\n\t\t\t\t</nav>\n\t\t\t\t<p style={{ height: '4rem' }}>\n\t\t\t\t\t{description.substr(0, 40) === description\n\t\t\t\t\t\t? description\n\t\t\t\t\t\t: description.substr(0, 40) + '...'}\n\t\t\t\t</p>\n\t\t\t\t<Link to={'/profiledetail/' + this.props.user.id}>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='btn btn-secondary btn-block'\n\t\t\t\t\t\tstyle={{ margin: '1px', backgroundColor: '#e8519e' }}>\n\t\t\t\t\t\tSee more\n\t\t\t\t\t</button>\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default UserItem;\n","import React, { Component } from 'react';\nimport UserItem from './UserItem';\n\nexport class ResultUser extends Component {\n\trender() {\n\t\tconst users = this.props.users;\n\n\t\tconst userStyle = {\n\t\t\twidth: '100%',\n\t\t\tdisplay: 'flex',\n\t\t\tflexWrap: 'wrap',\n\t\t\tjustifyContent: 'center',\n\t\t};\n\n\t\treturn (\n\t\t\t<div style={userStyle}>\n\t\t\t\t{users && users.length > 0\n\t\t\t\t\t? users.map((user, i) => <UserItem key={i} user={user} />)\n\t\t\t\t\t: null}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ResultUser;\n","import axios from \"axios/index\";\n\nexport function GetuserNotifes() {\n    return new Promise(async (resolve, reject) => {\n        const token = localStorage.getItem(\"token\");\n        const userId = localStorage.getItem(\"userId\");\n\n        axios.get(process.env.REACT_APP_API_URL + \"/users/notifs/\" + userId, {\n            headers: {\n                \"Authorization\": `Bearer ` + token\n            }\n        })\n            .then(results => {\n                resolve(results.data)\n            })\n            .catch(err => {\n                resolve(\"\")\n            });\n    })\n}","import React from 'react';\nimport './Navbar.css';\nimport io from 'socket.io-client';\nimport Moment from 'moment';\n\n// Import services\nimport { GetuserNotifes } from '../../../services/GetUserNotifi.service';\n\nclass Navbar extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tnotifs: [],\n\t\t\tvisibleNotif: false,\n\t\t\tpopVisible: false,\n\t\t\tsocketNotif: [],\n\t\t\tsocket: io(process.env.REACT_APP_API_URL),\n\t\t};\n\t}\n\n\tasync UNSAFE_componentWillMount() {\n\t\tlet response = await GetuserNotifes();\n\t\tif (response.code === 200)\n\t\t\tthis.setState({\n\t\t\t\tnotifs: response.data,\n\t\t\t});\n\t\tlet room = localStorage.getItem('userId');\n\t\tthis.state.socket.connect(true);\n\t\tthis.state.socket.emit('join', room);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.state.socket.on('userLikesList', (likes) => {\n\t\t\tthis.setState({\n\t\t\t\tsocketNotif: likes,\n\t\t\t\tvisibleNotif: true,\n\t\t\t});\n\t\t});\n\t}\n\n\tcomponentWillUnmount() {\n\t\tlet room = localStorage.getItem('userId');\n\t\tthis.state.socket.emit('initLikesList', room);\n\t\tthis.state.socket.disconnect(true);\n\t}\n\n\tshowPopList = async (e) => {\n\t\te.preventDefault();\n\t\tlet response = await GetuserNotifes();\n\t\tif (response.code === 200)\n\t\t\tthis.setState({\n\t\t\t\tnotifs: response.data,\n\t\t\t\tpopVisible: !this.state.popVisible,\n\t\t\t\tvisibleNotif: false,\n\t\t\t\tsocketNotif: [],\n\t\t\t});\n\t};\n\n\trender() {\n\t\tconst { visibleNotif, notifs, socketNotif } = this.state;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div class='header'>\n\t\t\t\t\t<a href='#default' class='logo'>\n\t\t\t\t\t\tMatcha\n\t\t\t\t\t</a>\n\t\t\t\t\t<div class='header-right'>\n\t\t\t\t\t\t<a class='active' href='/'>\n\t\t\t\t\t\t\tHome\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a href='/chatroom'>Chatroom</a>\n\t\t\t\t\t\t<link\n\t\t\t\t\t\t\trel='stylesheet'\n\t\t\t\t\t\t\ttype='text/css'\n\t\t\t\t\t\t\thref='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'></link>\n\n\t\t\t\t\t\t<a href='/suggestion'>Suggestion</a>\n\t\t\t\t\t\t<a href='#' onClick={(e) => this.showPopList(e)}>\n\t\t\t\t\t\t\t<i style={{ fontSize: '22px' }} class='fa fa-bell'></i>\n\t\t\t\t\t\t\t{visibleNotif ? (\n\t\t\t\t\t\t\t\t<div class='notifnum'>\n\t\t\t\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t\t{this.state.popVisible === true ? (\n\t\t\t\t\t\t\t\t<div class='recpoint'></div>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</a>\n\n\t\t\t\t\t\t<a href='/editprofile'>Me</a>\n\t\t\t\t\t\t<a href='/logout'>Logout</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{this.state.popVisible === true ? (\n\t\t\t\t\t<div class='notiflist'>\n\t\t\t\t\t\t{/* <div class=\"head\">\n              <span>Notifications({notifs.length})</span>\n              <a href=\"\">Mark all as read</a>\n            </div> */}\n\n\t\t\t\t\t\t{notifs && notifs.length > 0 ? (\n\t\t\t\t\t\t\tnotifs.map((notif) => {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div key={notif.id} class='singlenotif'>\n\t\t\t\t\t\t\t\t\t\t<a href={`/profiledetail/${notif.id}`}>\n\t\t\t\t\t\t\t\t\t\t\t<b> {notif.fullname}</b> {notif.description}\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t<span>{Moment(notif.updatedAt).fromNow()}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div class='singlenotif'>No notifications</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default Navbar;\n","import React from 'react';\nimport './Footer.css';\n\nclass Footer extends React.Component {\n\n    render() {\n\n        return (\n            <div class=\"footer\">\n                <p style={{color: \"white\"}}>Matcha - 42 - Group : Yiwang | gucalvi . 2020</p>\n            </div>\n        );\n    }\n}\n\nexport default Footer;\n","import React from 'react';\nimport SearchBar from './SearchBar';\nimport ResultUser from './ResultUser';\n\nimport Navbar from '../common/Navbar/Navbar';\n\nimport { fetchAllUsersPublicData } from './Home.service';\nimport sort from 'fast-sort';\nimport { GetUserIntrests } from './interest.service';\nimport Footer from '../common/Footer/Footer';\n\nclass Home extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tsortBy: 'age',\n\t\t\tinitialUsers: [],\n\t\t\tinterestsArray: [],\n\t\t\tuserBuffer: [],\n\t\t};\n\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.filterUsers = this.filterUsers.bind(this);\n\t\tthis.updateSearch = this.updateSearch.bind(this);\n\t}\n\n\tasync UNSAFE_componentWillMount() {\n\t\tlet userData = await fetchAllUsersPublicData([]);\n\t\tthis.initUsers(userData);\n\n\t\tconst userId = localStorage.getItem('userId');\n\t\tlet userInterest = await GetUserIntrests(userId);\n\t\tthis.initInterestArray(userInterest.data);\n\t}\n\n\tonChange = async (e) => {\n\t\tif (e.target.name !== 'sortBy') {\n\t\t\te.preventDefault();\n\t\t}\n\t\tthis.setState({ [e.target.name]: e.target.value });\n\n\t\tsetTimeout(async () => {\n\t\t\tawait this.filterUsers();\n\t\t}, 50);\n\t\t// await this.filterUsers();\n\t\t// console.log(this.state[e.target.name]);\n\t};\n\n\tinitUsers(users) {\n\t\tthis.setState({\n\t\t\tinitialUsers: users,\n\t\t\tuserBuffer: users,\n\t\t});\n\t}\n\n\tupdateSearch(data) {\n\t\tthis.setState({\n\t\t\tinitialUsers: data,\n\t\t\tuserBuffer: data,\n\t\t});\n\t}\n\n\tinitInterestArray(interests) {\n\t\tthis.setState({\n\t\t\tinterestsArray: interests,\n\t\t});\n\t}\n\n\tasync filterUsers() {\n\t\tlet buffer = [];\n\t\tbuffer = this.state.initialUsers;\n\t\t//SORT\n\t\t//sort by fame and age\n\t\tif (this.state.sortBy === 'fame' || this.state.sortBy === 'age') {\n\t\t\tbuffer = sort(buffer).asc((u) => u[this.state.sortBy]);\n\t\t\tconsole.log(buffer);\n\t\t\tthis.setState({\n\t\t\t\tuserBuffer: buffer,\n\t\t\t});\n\t\t\t//sort by distance\n\t\t} else if (this.state.sortBy === 'location') {\n\t\t\tbuffer = sort(buffer).asc((u) => u.distance);\n\t\t\tthis.setState({\n\t\t\t\tuserBuffer: buffer,\n\t\t\t});\n\t\t\t//sort by tags\n\t\t} else if (this.state.sortBy === 'tags') {\n\t\t\tvar tags = [];\n\t\t\tif (this.state.interestsArray !== null) {\n\t\t\t\tthis.state.interestsArray.forEach((element) => {\n\t\t\t\t\ttags.push(element.value);\n\t\t\t\t});\n\t\t\t}\n\t\t\tvar newbuffer = [];\n\t\t\ttags.forEach((tagfromlist) => {\n\t\t\t\tbuffer.forEach((element) => {\n\t\t\t\t\telement.tags.forEach((taguser) => {\n\t\t\t\t\t\tif (taguser === tagfromlist) {\n\t\t\t\t\t\t\tnewbuffer.push(element);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t\tbuffer = newbuffer;\n\t\t\tthis.setState({\n\t\t\t\tuserBuffer: buffer,\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tlet filteredUsers = this.state.userBuffer;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Navbar />\n\t\t\t\t<div className=''>\n\t\t\t\t\t<section className='filter-area'>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<SearchBar initUsersData={this.updateSearch} />\n\t\t\t\t\t\t<div style={{ padding: '2rem' }}>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\theight: '2rem',\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t'border-radius': '15px',\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor: '#443737',\n\t\t\t\t\t\t\t\t\t\t'font-size': '25px',\n\t\t\t\t\t\t\t\t\t\t'padding-bottom': '10px',\n\t\t\t\t\t\t\t\t\t\t'font-family': 'Nunito, sans-serif',\n\t\t\t\t\t\t\t\t\t\t'font-family': 'Yellowtail,cursive',\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tSorted By\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundColor: '#443737',\n\t\t\t\t\t\t\t\t\theight: '4rem',\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t'text-color': 'white',\n\t\t\t\t\t\t\t\t\t'font-size': '15px',\n\t\t\t\t\t\t\t\t\t'border-radius': '15px',\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<div style={somemargin}>\n\t\t\t\t\t\t\t\t\t<div>Age</div>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\tname='sortBy'\n\t\t\t\t\t\t\t\t\t\tvalue='age'\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.sortBy === 'age'}\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style={somemargin}>\n\t\t\t\t\t\t\t\t\t<div>Distance</div>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\tname='sortBy'\n\t\t\t\t\t\t\t\t\t\tvalue='location'\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.sortBy === 'location'}\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style={somemargin}>\n\t\t\t\t\t\t\t\t\t<div>Tags</div>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\tname='sortBy'\n\t\t\t\t\t\t\t\t\t\tvalue='tags'\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.sortBy === 'tags'}\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style={somemargin}>\n\t\t\t\t\t\t\t\t\t<div>Fame</div>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype='radio'\n\t\t\t\t\t\t\t\t\t\tname='sortBy'\n\t\t\t\t\t\t\t\t\t\tvalue='fame'\n\t\t\t\t\t\t\t\t\t\tchecked={this.state.sortBy === 'fame'}\n\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ResultUser users={filteredUsers} />\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t\t<Footer />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst somemargin = {\n\ttextAlign: 'center',\n\twidth: '24%',\n\tcolor: 'white',\n};\n\nexport default Home;\n","import React from \"react\";\nimport { createBrowserHistory } from \"history\";\nimport { UserLogout } from \"../../services/UserLogout.service\";\n\nclass Logout extends React.Component {\n\n    async UNSAFE_componentWillMount() {\n        await UserLogout();\n        let history = createBrowserHistory();\n        localStorage.setItem('token', \"\");\n        localStorage.setItem('userId', \"\");\n        history.push(\"/login\");\n        let pathUrl = window.location.href;\n        window.location.href = pathUrl; \n    }\n\n    render() {\n        \n        return (\n            <div>\n            </div>\n        );\n    }\n}\n\nexport default Logout;","import axios from \"axios/index\";\n\nexport function UserLogout() {\n    return new Promise(async (resolve, reject) => {\n    \n    const token = localStorage.getItem(\"token\");\n    const userId = localStorage.getItem(\"userId\");\n\n    axios.get(process.env.REACT_APP_API_URL + \"/users/logout/\" + userId, {\n        headers: {\n            \"Authorization\": `Bearer ` + token\n        }\n    })\n        .then(results => {\n            resolve(results.data)\n        })\n        .catch(err => {\n            resolve(false);\n        });\n    })\n};","import axios from \"axios/index\";\n\nexport function editThisUser(data) {\n    return new Promise(async (resolve, reject) => {\n\n        const token = localStorage.getItem(\"token\");\n        const userId = localStorage.getItem(\"userId\");\n\n        const dataHttp = new FormData()\n        let i = 0;\n\n        if (data.profilePhoto !== \"\")\n            await dataHttp.append('file', data.profilePhoto, data.profilePhoto.name)\n\n        while (i < data.multiPhotos.length && data.multiPhotos.length > 0) {\n            await dataHttp.append('file', data.multiPhotos[i], data.multiPhotos[i].name)\n            i++;\n        }\n\n        dataHttp.append('firstname', data.firstname);\n        dataHttp.append('lastname', data.lastname);\n        dataHttp.append('email', data.email);\n        dataHttp.append('Password', data.Password);\n        dataHttp.append('age', data.age);\n        dataHttp.append('psudonym', data.psudonym);\n        dataHttp.append('SexualOrientation', data.SexualOrientation);\n        dataHttp.append('gender', data.gender);\n        dataHttp.append('location', data.location);\n        dataHttp.append('Fame', data.Fame);\n        dataHttp.append('Bibliography', data.Bibliography);\n        dataHttp.append('profilePhoto', data.profilePhoto !== \"\" ? data.profilePhoto.name : \"\");\n        i = 0;\n        if (data.selectedOption === undefined || data.selectedOption === null) {\n            data.selectedOption = \"\";\n            await dataHttp.append('tags', data.selectedOption);\n        }\n        else\n            for (i = 0; i < data.selectedOption.length; i++) {\n                await dataHttp.append('tags', data.selectedOption[i].value.toLowerCase());\n            }\n\n        axios.put(process.env.REACT_APP_API_URL + \"/users/\" + userId, dataHttp, {\n            headers: {\n                \"Authorization\": `Bearer ` + token\n            }\n        })\n            .then(results => {\n                resolve(results.data)\n            })\n            .catch(err => {\n                resolve(false);\n            });\n    })\n}","import axios from \"axios/index\";\n\nexport function GetUserInfo(userId) {\n    return new Promise(async (resolve, reject) => {\n        const token = localStorage.getItem(\"token\");\n        const sourceUserId = localStorage.getItem(\"userId\");\n\n        axios.get(process.env.REACT_APP_API_URL + \"/users/\" + userId + \"/user/\" + sourceUserId, {\n            headers: {\n                \"Authorization\": `Bearer ` + token\n            }\n        })\n            .then(results => {\n                resolve(results.data);\n            })\n            .catch(err => {\n                resolve(false);\n            });\n    })\n}","import axios from \"axios/index\";\n\nexport function GetUserIntrests(userId) {\n    return new Promise(async (resolve, reject) => {\n        const token = localStorage.getItem(\"token\");\n        axios.get(process.env.REACT_APP_API_URL + \"/users/interests/\" + userId, {\n            headers: {\n                \"Authorization\": `Bearer ` + token\n            }\n        })\n            .then(results => {\n                resolve(results.data);\n            })\n            .catch(err => {\n                resolve(false);\n            });\n    })\n};","import axios from \"axios/index\";\n\nexport function getUserLocation() {\n    return new Promise(async (resolve, reject) => {\n    axios.get(\"http://ip-api.com/json\")\n        .then(response => {\n            resolve(response.data.lat + \",\" + response.data.lon);\n        })\n        .catch(err => {\n            resolve(\"\")      \n        });\n    })\n}\n","import React from \"react\";\nimport './EditProfile.css';\nimport Navbar from '../common/Navbar/Navbar';\nimport { ToastContainer } from 'react-toastify';\nimport { editThisUser } from '../../services/EditUser.service';\nimport { GetUserInfo } from '../../services/FetchUserInfo.service';\nimport { GetUserIntrests } from '../../services/GetAllInterests.service';\nimport { getUserLocation } from '../../services/GetUserLocation.service';\nimport Select from 'react-select';\nimport Footer from '../common/Footer/Footer';\n\nconst customNotification = require('../utils/notification');\n\nclass EditProfile extends React.Component {\n\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstname: \"\",\n      singleHObbi: \"\",\n      psudonym: \"\",\n      lastname: \"\",\n      showAddHobi: false,\n      profilePhoto: \"\",\n      email: \"\",\n      oldMultiPhotos: [],\n      oldProfilePhoto: \"\",\n      age: \"\",\n      multiPhotos: [],\n      Password: \"\",\n      interestsArray: [],\n      SexualOrientation: \"\",\n      ProfileCompletion: \"\",\n      gender: \"\",\n      location: \"\",\n      Fame: \"\",\n      Bibliography: \"\",\n      selectedOption: [],\n    };\n\n    this.handlePhotoesChange = this.handlePhotoesChange.bind(this);\n    this.handleSelectChange = this.handleSelectChange.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.addHobytag = this.addHobytag.bind(this);\n    this.handlFormSubmitAction = this.handlFormSubmitAction.bind(this);\n    this.handleShowAddHoby = this.handleShowAddHoby.bind(this);\n    this.initPageProfileData = this.initPageProfileData.bind(this);\n  }\n\n  validateData() {\n    let regLocation = new RegExp(/^([-+]?)([\\d]{1,2})(((\\.)(\\d+)(,)))(\\s*)(([-+]?)([\\d]{1,3})((\\.)(\\d+))?)$/)\n\n    try {\n      for (let i = 0; i < this.state.multiPhotos.length; i++) {\n        if (this.state.multiPhotos[i].type !== \"image/jpeg\"\n          && this.state.multiPhotos[i].type !== \"image/png\") {\n          customNotification.fireNotification(\"warning\", \"File \" + this.state.multiPhotos[i].type + \" format not supported\")\n          return false;\n        }\n      }\n\n      if (this.state.profilePhoto !== \"\" && this.state.profilePhoto !== undefined && this.state.profilePhoto.type !== \"image/jpeg\" && this.state.profilePhoto.type !== \"image/png\") {\n        customNotification.fireNotification(\"warning\", \"File \" + this.state.profilePhoto.type + \" format not supported\")\n        return false;\n      }\n\n    } catch (err) {\n      customNotification.fireNotification(\"warning\", \"File format not supported\")\n      return false;\n    }\n\n    if (this.state.multiPhotos.length > 4) {\n      // Add extension validation only for img known formats\n      customNotification.fireNotification(\"warning\", \"You cn not upload more than 4 pictures\")\n      return false;\n    } else if (18 > parseInt(this.state.age) > 120) {\n      customNotification.fireNotification(\"warning\", \"You don't have the legal age to date, this incident will be repported\")\n      return false;\n    } else if (this.state.Password !== \"\" && this.state.Password.length < 8) {\n      customNotification.fireNotification(\"warning\", \"Password must contain at least 8 characters.\")\n      return false;\n    } else if (this.state.location !== \"\" && !regLocation.test(this.state.location)) {\n      customNotification.fireNotification(\"warning\", \"Locaiton must valid.\")\n      return false;\n    } else\n      return true;\n  }\n\n  async initPageProfileData() {\n    const userId = localStorage.getItem(\"userId\");\n\n    let userLocatData = await getUserLocation();\n\n    if (this.state.location === \"\" && userLocatData !== undefined) {\n      this.setState({\n        location: userLocatData\n      })\n    }\n\n    let profileData = await GetUserInfo(userId);\n    if (profileData.data !== undefined)\n      this.initProfileInformation(profileData.data);\n\n    if (profileData !== \"\" && profileData.code === 204)\n      customNotification.fireNotification(\"error\", profileData.msg)\n\n    let interestData = await GetUserIntrests(userId);\n    if (interestData !== undefined && interestData.code === 200)\n      this.initInterestArray(interestData.data)\n  }\n\n  async UNSAFE_componentWillMount() {\n    this.initPageProfileData()\n  }\n\n  async handlFormSubmitAction(e) {\n    e.preventDefault();\n\n    if (this.validateData()) {\n      let userEdited = await editThisUser(this.state);\n\n      if (userEdited.msg !== \"\" && userEdited.code !== 200)\n        customNotification.fireNotification(\"error\", userEdited.msg)\n      else customNotification.fireNotification(\"success\", userEdited.msg)\n\n      setTimeout(async () => {\n        this.initPageProfileData()\n      }, 20)\n    }\n  }\n\n  handlePhotoesChange(e) {\n    e.preventDefault();\n    const target = e.target;\n\n    if (target.type === \"file\") {\n      this.setState({\n        multiPhotos: target.files\n      });\n    }\n\n  }\n\n  handleShowAddHoby(e) {\n    e.preventDefault();\n    let opt = !this.state.showAddHobi;\n    this.setState({\n      showAddHobi: opt\n    })\n  }\n\n  addHobytag(e) {\n    e.preventDefault();\n\n    let interests = this.state.interestsArray;\n    if (this.state.singleHObbi !== \"\") {\n      let newHobby = { value: this.state.singleHObbi, label: this.state.singleHObbi };\n      interests.push(newHobby);\n      this.setState({\n        singleHObbi: \"\",\n        showAddHobi: false,\n        interestsArray: interests\n      })\n    } else {\n      this.setState({\n        singleHObbi: \"\",\n        showAddHobi: false,\n      })\n    }\n  }\n\n  handleSelectChange = selectedOption => {\n    this.setState(\n      { selectedOption },\n    );\n  };\n\n  getProfilePicture(pictures, state) {\n    let pics = [];\n    let i = 0;\n    while (i < pictures.length) {\n      if (pictures[i].state === state)\n        pics.push(pictures[i].path)\n      i++;\n    }\n\n    return pics;\n  }\n\n  initProfileInformation(data) {\n    let userInfo = data.info;\n    let profilePhoto = this.getProfilePicture(data.pictures, 1);\n    let photoes = this.getProfilePicture(data.pictures, 0)\n\n    let userInterests = data.tags;\n\n    if (userInfo.localisation !== \"undefined\")\n      this.setState({ location: userInfo.localisation })\n\n    this.setState({\n      firstname: userInfo.firstname,\n      psudonym: userInfo.pseudo,\n      lastname: userInfo.lastname,\n      oldProfilePhoto: profilePhoto.length > 0 ? profilePhoto : \"\",\n      profilePhoto: \"\",\n      email: userInfo.email,\n      age: userInfo.age,\n      oldMultiPhotos: photoes,\n      multiPhotos: [],\n      selectedOption: userInterests,\n      SexualOrientation: userInfo.sexual_orientation,\n      ProfileCompletion: userInfo.profile_completion,\n      gender: userInfo.gender,\n      Fame: userInfo.fame,\n      Bibliography: userInfo.bio,\n    })\n  }\n\n  initInterestArray(interests) {\n    this.setState({\n      interestsArray: interests\n    })\n  }\n\n  handleChange(event) {\n    event.preventDefault();\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    if (target.type === \"file\") {\n      this.setState({\n        profilePhoto: target.files[0]\n      });\n    } else\n      this.setState({\n        [name]: value\n      });\n\n  }\n\n  render() {\n    return (\n      <div>\n        <Navbar />\n        <ToastContainer />\n        <div class=\"profile-main\">\n          <div class=\"profile-img\">\n            <div class=\"upload-img\">\n\n              {this.state.oldProfilePhoto && this.state.profilePhoto === \"\" ? <img style={{ position: 'relative', float: 'left', width: '200px' }}\n                className=\"avatar\"\n                src={this.state.oldProfilePhoto.toString().substring(0, 5) === 'https' ?\n                  this.state.oldProfilePhoto :\n                  process.env.REACT_APP_API_URL +\n                  \"/\" +\n                  this.state.oldProfilePhoto[0]\n                }\n                alt=\"pic holder\"\n              />\n                : \"\"}\n              <input id=\"Photo\" name=\"profilePhoto\" onChange={this.handleChange} type=\"file\" accept=\"image/png, image/jpeg, image/gif\" />\n            </div>\n\n            <br></br>\n            <div class=\"list-img\">\n\n              {this.state.oldMultiPhotos && this.state.multiPhotos.length === 0 ?\n                this.state.oldMultiPhotos.map((oldProfilePhoto, index) => {\n                  return (<img key={index} style={{ position: 'relative', float: 'left', width: '200px' }}\n                    className=\"avatar\"\n                    src={oldProfilePhoto.toString().substring(0, 5) === 'https' ?\n                      oldProfilePhoto :\n                      process.env.REACT_APP_API_URL +\n                      \"/\" +\n                      oldProfilePhoto\n                    } alt=\"pic holder\"\n                  />)\n                }) : \"\"}\n\n\n              <div className=\"form-group\">\n                <label className=\"col-sm-2 control-label\">\n                  Upload a photoes\n                </label>\n\n\n                <div className=\"input-group image-preview col-md-8 files\">\n\n                  <input type=\"file\" name=\"multiPhotos\" onChange={this.handlePhotoesChange} multiple accept=\"image/png, image/jpeg, image/gif\" />\n                  <p className=\"help-block col-md-7\">Only 5 photoes and format JPEG/PNG allowed.</p>\n                </div>\n              </div>\n            </div>\n\n          </div>\n\n\n          <section style={{ flex: '3' }} id=\"contact-form\" class=\"bg-light py-3\">\n            <div class=\"container\">\n              <h1 class=\"l-heading\">\n                My Profile\n            </h1>\n\n              <div class=\"form-group\">\n                <label for=\"name\">First Name</label>\n                <input type=\"text\"\n                  value={this.state.firstname}\n                  name=\"firstname\"\n                  className=\"form-control\"\n                  onChange={this.handleChange}\n                  id=\"f-name\" placeholder=\"John/Jane\" />\n              </div>\n\n              <div class=\"form-group\">\n                <label for=\"\">Last Name</label>\n                <input\n                  type=\"text\"\n                  id=\"l-name\"\n                  value={this.state.lastname}\n                  className=\"form-control\"\n                  name=\"lastname\"\n                  onChange={this.handleChange}\n                  placeholder=\"Doe\" />\n              </div>\n\n              <div class=\"form-group\">\n                <label for=\"\">Psudonym</label>\n                <input\n                  type=\"text\"\n                  id=\"l-name\"\n                  value={this.state.psudonym}\n                  className=\"form-control\"\n                  name=\"psudonym\"\n                  onChange={this.handleChange}\n                  placeholder=\"Doe\" />\n              </div>\n\n              <div class=\"form-group\">\n                <label for=\"name\">E-mail</label>\n                <input\n                  type=\"text\"\n                  id=\"email\"\n                  id=\"inputEmail\"\n                  value={this.state.email}\n                  name=\"email\"\n                  onChange={this.handleChange}\n                />\n\n              </div>\n\n              <div class=\"form-group\">\n                <label for=\"name\">Password</label>\n                <input\n                  type=\"password\"\n                  value={this.state.Password}\n                  className=\"form-control\"\n                  id=\"Password\"\n                  name=\"Password\"\n                  onChange={this.handleChange}\n                  placeholder=\"Leave the password empty if you dont want to change it\"\n                />\n\n              </div>\n\n              <div class=\"form-group\">\n                <label for=\"name\">Gender  </label>\n                <select className=\"form-control\" name=\"gender\" value={this.state.gender} onChange={this.handleChange}>\n                  <option value=\"\" >Select</option>\n                  <option value=\"M\" >M</option>\n                  <option value=\"F\" >F</option>\n                </select>\n              </div>\n\n              <div class=\"form-group\">\n                <label for=\"name\">Age </label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"age\"\n                  value={this.state.age}\n                  name=\"age\"\n                  onChange={this.handleChange}\n                  placeholder=\"Age\"\n                />\n              </div>\n\n              <div class=\"form-group\">\n                <label for=\"name\">Sexual Orientation </label>\n                <select className=\"form-control\" name=\"SexualOrientation\" value={this.state.SexualOrientation} onChange={this.handleChange}>\n                  <option value=\"\" >Select</option>\n                  <option value=\"B\" >Bisexual</option>\n                  <option value=\"F\" >Heterosexual</option>\n                  <option value=\"M\" >Homosexual</option>\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label\n                  className=\"col-sm-2 control-label\"\n                >\n                  Location\n                          </label>\n\n                <div className=\"col-sm-10\">\n                  <input\n                    type=\"text\"\n                    value={this.state.location || \"\"}\n                    className=\"form-control\"\n                    id=\"location\"\n                    name=\"location\"\n                    onChange={this.handleChange}\n                    placeholder=\"Enter your location\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <label\n                  className=\"col-sm-2 control-label\"\n                >\n                  Profile Completion\n                          </label>\n\n                <div className=\"col-sm-10\">\n                  <input disabled={true}\n                    type=\"text\"\n                    value={this.state.ProfileCompletion + \" out of 11\"}\n                    className=\"form-control\"\n                    id=\"ProfileCompletion\"\n                    name=\"ProfileCompletion\"\n                    onChange={this.handleChange}\n                    placeholder=\"Enter your ProfileCompletion link\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <label\n                  className=\"col-sm-2 control-label\"\n                >\n                  Fame\n                          </label>\n\n                <div className=\"col-sm-10\">\n                  <input disabled={true}\n                    type=\"text\"\n                    value={this.state.Fame}\n                    className=\"form-control\"\n                    id=\"Fame\"\n                    name=\"Fame\"\n                    onChange={this.handleChange}\n                    placeholder=\"Enter your Lastname\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <label\n                  className=\"col-sm-2 control-label\"\n                >Interests</label>\n                {this.state.showAddHobi === false ?\n                  <button onClick={(e) => { this.handleShowAddHoby(e) }}\n                    className=\"btn btn-light\">\n                    Add New\n                    {/* TODO:fix api when adding a new interests, not working properly for now! */}\n                  </button>\n                  : <button onClick={(e) => { this.addHobytag(e) }}\n                    className=\"btn btn-light\">\n\n                    Add</button>}\n                <div className=\"col-sm-9\" style={{ 'zIndex': '222' }}>\n\n                  <Select\n                    isMulti\n                    isSearchable\n                    placeholder=\"Select your interests\"\n                    value={this.state.selectedOption}\n                    onChange={this.handleSelectChange}\n                    options={this.state.interestsArray}\n                  />\n\n                </div>\n              </div>\n\n              {this.state.showAddHobi === true ?\n\n                <div className=\"form-group\">\n                  <label\n                    className=\"col-sm-2 control-label\"\n                  >\n                    New hobby\n</label>\n                  <div className=\"col-sm-10\">\n                    <input\n                      type=\"text\"\n                      value={this.state.singleHObbi}\n                      className=\"form-control\"\n                      id=\"singleHObbi\"\n                      name=\"singleHObbi\"\n                      onChange={this.handleChange}\n                      placeholder=\"Add a new tag for hobby\"\n                    />\n                  </div>\n                </div>\n                : \"\"}\n\n              <div class=\"form-group\">\n                <label for=\"message\">About</label>\n                <textarea\n                  value={this.state.Bibliography}\n                  id=\"Bibliography\" name=\"Bibliography\"\n                  rows=\"5\" cols=\"42\" onChange={this.handleChange}>\n                </textarea>\n              </div>\n            </div>\n\n            <button onClick={(e) => { this.handlFormSubmitAction(e) }} class=\"btn\">Update</button>\n          </section>\n\n        </div>\n        <Footer />\n      </div >\n    )\n  }\n}\n\nexport default EditProfile;\n","import axios from \"axios/index\";\n\nfunction getUserLikes(userId)  {\n    return new Promise(async (resolve, reject) => {\n        const token = localStorage.getItem(\"token\");\n\n        axios.get(process.env.REACT_APP_API_URL + \"/users/likes/\" + userId, {\n            headers: {\n                \"Authorization\": `Bearer ` + token\n            }\n        })\n            .then(results => {\n                resolve(results.data)\n            })\n            .catch(err => {\n                resolve(\"\");\n            });\n    })\n}\n\nexport default getUserLikes;","import axios from \"axios/index\";\n\nexport function PutUpdateUserLikes(liked_userId, checker) {\n    return new Promise(async (resolve, reject) => {\n        const token = localStorage.getItem(\"token\");\n        const userId = localStorage.getItem(\"userId\");\n\n        axios.post(process.env.REACT_APP_API_URL + \"/users/likes/\" + checker, {\n            liker_user_id: userId,\n            has_been_liked_user_id: liked_userId\n        }, {\n            headers: {\n                \"Authorization\": `Bearer ` + token\n            }\n        })\n            .then(results => {\n                resolve(results.data)\n            })\n            .catch(err => {\n                resolve(false);\n            });\n    })\n}","import axios from \"axios/index\";\n\nexport function BlockThisUser(blocked_userId, checker) {\n    return new Promise(async (resolve, reject) => {\n        const token = localStorage.getItem(\"token\");\n        const blocker_userId = localStorage.getItem(\"userId\");\n       \n        axios.post(process.env.REACT_APP_API_URL + \"/users/block\", {\n            blocked_userId: blocked_userId,\n            blocker_userId: blocker_userId\n        }, {\n            headers: {\n                \"Authorization\": `Bearer ` + token\n            }\n        })\n            .then(results => {\n                resolve(results.data)\n            })\n            .catch(err => {\n                resolve(false);\n            });\n    })\n}\n","import axios from \"axios/index\";\n\nexport function VisitThisUser(visited_userId, checker) {\n\n    return new Promise(async (resolve, reject) => {\n        const token = localStorage.getItem(\"token\");\n        const visiter_userId = localStorage.getItem(\"userId\");\n\n        axios.post(process.env.REACT_APP_API_URL + \"/users/visit\", {\n            visited_userId: visited_userId,\n            visiter_userId: visiter_userId\n        }, {\n            headers: {\n                \"Authorization\": `Bearer ` + token\n            }\n        })\n            .then(results => {\n                resolve(results.data)\n            })\n            .catch(err => {\n                resolve(false);\n            });\n    })\n}","import axios from \"axios/index\";\n\nexport function reportThisUser(reported_userId, checker) {\n    return new Promise(async (resolve, reject) => {\n        const token = localStorage.getItem(\"token\");\n        const reporter_userId = localStorage.getItem(\"userId\");\n        \n        axios.post(process.env.REACT_APP_API_URL + \"/users/report\", {\n            reported_userId: reported_userId,\n            reporter_userId: reporter_userId\n        }, {\n            headers: {\n                \"Authorization\": `Bearer ` + token\n            }\n        })\n            .then(results => {\n                resolve(results.data)\n            })\n            .catch(err => {\n                resolve(false)\n            });\n    })\n}\n","import React from 'react';\nimport Navbar from '../common/Navbar/Navbar';\nimport { GetUserInfo } from '../../services/FetchUserInfo.service';\nimport { GetUserIntrests } from '../Main/interest.service';\nimport getUserLikes from '../../services/GetUserlikesDislikes.service';\nimport { PutUpdateUserLikes } from '../../services/UpdateUserLikeDislike.service';\nimport { BlockThisUser } from '../../services/BlockUser.service';\nimport { VisitThisUser } from '../../services/VisitUser.service';\nimport Moment from 'moment';\nimport { PutUpdateUserUnlikes } from '../../services/UpdateUserUnlikes.service';\nimport { reportThisUser } from '../../services/ReportUser.service';\nimport Footer from '../common/Footer/Footer';\n\nimport { ToastContainer } from 'react-toastify';\nimport io from 'socket.io-client';\nimport './profileDetails.css';\n\nconst customNotification = require('../utils/notification');\n\nclass ProfileDetails extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tfirstname: '',\n\t\t\tlikes: 0,\n\t\t\tdislikes: 0,\n\t\t\tsingleHObbi: '',\n\t\t\tpsudonym: '',\n\t\t\tsocket: io(process.env.REACT_APP_API_URL),\n\t\t\tlastname: '',\n\t\t\tshowAddHobi: false,\n\t\t\tcountLikes: 0,\n\t\t\tuserHasLikedMe: '',\n\t\t\tcountdisLikes: 0,\n\t\t\tprofilePhoto: '',\n\t\t\temail: '',\n\t\t\toldMultiPhotos: [],\n\t\t\toldProfilePhoto: '',\n\t\t\tage: '',\n\t\t\tmultiPhotos: [],\n\t\t\tPassword: '',\n\t\t\tinterestsArray: [],\n\t\t\tSexualOrientation: '',\n\t\t\tProfileCompletion: '',\n\t\t\tonline: '',\n\t\t\tupdatedAt: '',\n\t\t\tgender: '',\n\t\t\tlocation: '',\n\t\t\tFame: '',\n\t\t\tBibliography: '',\n\t\t\tselectedOption: [],\n\t\t\tshowLikes: false,\n\t\t};\n\n\t\tthis.handlelikes = this.handlelikes.bind(this);\n\t\tthis.handleBlock = this.handleBlock.bind(this);\n\t\tthis.handleReport = this.handleReport.bind(this);\n\t\tthis.checkShowLikes = this.checkShowLikes.bind(this);\n\t}\n\n\tasync handleBlock(e) {\n\t\te.preventDefault();\n\t\tlet userId = this.props.match.params.id;\n\t\tlet dataRes = await BlockThisUser(userId);\n\n\t\tif (dataRes !== undefined && dataRes.code === 200)\n\t\t\tcustomNotification.fireNotification('success', dataRes.msg);\n\n\t\tlet userAction = localStorage.getItem('userId');\n\n\t\tsetTimeout(() => {\n\t\t\tlet data = {\n\t\t\t\tid: userAction + userId,\n\t\t\t\ttitle: 'block',\n\t\t\t\tfullname: '',\n\t\t\t\tmsg: ' blocked your profile',\n\t\t\t\tlikerId: userAction,\n\t\t\t\tlikedId: userId,\n\t\t\t\ttime: Moment(),\n\t\t\t};\n\t\t\tthis.state.socket.emit('likeUser', data);\n\t\t}, 320);\n\t}\n\n\tasync handleReport(e) {\n\t\te.preventDefault();\n\t\tlet userId = this.props.match.params.id;\n\t\tlet dataIn = await reportThisUser(userId);\n\n\t\tif (dataIn !== undefined && dataIn.code === 200)\n\t\t\tcustomNotification.fireNotification('success', dataIn.msg);\n\n\t\tlet userAction = localStorage.getItem('userId');\n\n\t\tsetTimeout(() => {\n\t\t\tlet data = {\n\t\t\t\tid: userAction + userId,\n\t\t\t\ttitle: 'report',\n\t\t\t\tfullname: '',\n\t\t\t\tmsg: ' reported your profile',\n\t\t\t\tlikerId: userAction,\n\t\t\t\tlikedId: userId,\n\t\t\t\ttime: Moment(),\n\t\t\t};\n\t\t\tthis.state.socket.emit('likeUser', data);\n\t\t}, 320);\n\t}\n\n\tasync handlelikes(e, state) {\n\t\te.preventDefault();\n\t\tlet userId = this.props.match.params.id;\n\t\tlet userAction = localStorage.getItem('userId');\n\n\t\tawait PutUpdateUserLikes(userId, state);\n\t\tsetTimeout(async () => {\n\t\t\tlet usLikes = await getUserLikes(userId);\n\t\t\tif (usLikes.data !== undefined)\n\t\t\t\tthis.setState({\n\t\t\t\t\tlikes: usLikes.data.likes,\n\t\t\t\t\tdislikes: usLikes.data.dislikes,\n\t\t\t\t});\n\t\t}, 10);\n\n\t\tsetTimeout(() => {\n\t\t\tlet data = {\n\t\t\t\tid: userAction + userId,\n\t\t\t\ttitle: '',\n\t\t\t\tfullname: '',\n\t\t\t\tmsg: '',\n\t\t\t\tlikerId: userAction,\n\t\t\t\tlikedId: userId,\n\t\t\t\ttime: Moment(),\n\t\t\t};\n\n\t\t\tif (this.state.countDislikes < this.state.dislikes)\n\t\t\t\tif (state === 1) {\n\t\t\t\t\tdata.title = 'dislike';\n\t\t\t\t\tdata.msg = ' disliked your profile';\n\t\t\t\t\tthis.state.socket.emit('likeUser', data);\n\t\t\t\t}\n\n\t\t\tif (this.state.countLikes < this.state.likes)\n\t\t\t\tif (state === 0) {\n\t\t\t\t\tdata.msg = ' liked your profile';\n\t\t\t\t\tdata.title = 'like';\n\t\t\t\t\tthis.state.socket.emit('likeUser', data);\n\t\t\t\t}\n\n\t\t\tif (this.state.countLikes > this.state.likes) {\n\t\t\t\tPutUpdateUserUnlikes(userId);\n\t\t\t\tif (state === 0) {\n\t\t\t\t\tdata.msg = ' unliked your profile';\n\t\t\t\t\tdata.title = 'unlike';\n\t\t\t\t\tthis.state.socket.emit('likeUser', data);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet init = this.state.likes;\n\t\t\tlet initDislike = this.state.dislikes;\n\t\t\tthis.setState({\n\t\t\t\tcountLikes: init,\n\t\t\t\tcountDislikes: initDislike,\n\t\t\t});\n\t\t}, 320);\n\t}\n\n\tgetProfilePicture(pictures, state) {\n\t\tlet pics = [];\n\t\tlet i = 0;\n\t\twhile (i < pictures.length) {\n\t\t\tif (pictures[i].state === state) pics.push(pictures[i].path);\n\t\t\ti++;\n\t\t}\n\n\t\treturn pics;\n\t}\n\n\tinitProfileInformation(data) {\n\t\tlet userInfo = data.info;\n\t\tlet profilePhoto = this.getProfilePicture(data.pictures, 1);\n\t\tlet photoes = this.getProfilePicture(data.pictures, 0);\n\n\t\tlet userInterests = data.tags;\n\n\t\tthis.setState({\n\t\t\tuserHasLikedMe: data.liked,\n\t\t\tfirstname: userInfo.firstname,\n\t\t\tpsudonym: userInfo.pseudo,\n\t\t\tlastname: userInfo.lastname,\n\t\t\toldProfilePhoto: profilePhoto.length > 0 ? profilePhoto : '',\n\t\t\tprofilePhoto: '',\n\t\t\temail: userInfo.email,\n\t\t\tonline: userInfo.online,\n\t\t\tupdatedAt: userInfo.updatedAt,\n\t\t\tage: userInfo.age,\n\t\t\toldMultiPhotos: photoes,\n\t\t\tmultiPhotos: [],\n\t\t\tselectedOption: userInterests,\n\t\t\tSexualOrientation: userInfo.sexual_orientation,\n\t\t\tProfileCompletion: userInfo.profile_completion,\n\t\t\tgender: userInfo.gender,\n\t\t\tlocation: userInfo.localisation,\n\t\t\tFame: userInfo.fame,\n\t\t\tBibliography: userInfo.bio,\n\t\t});\n\t}\n\n\tinitInterestArray(interests) {\n\t\tthis.setState({\n\t\t\tinterestsArray: interests,\n\t\t});\n\t}\n\n\tcheckShowLikes(userActionInfo) {\n\t\ttry {\n\t\t\tif (userActionInfo.data.pictures.length > 0) {\n\t\t\t\tuserActionInfo.data.pictures.map(pc => {\n\t\t\t\t\tif (pc.state === 1)\n\t\t\t\t\t\tthis.setState({ showLikes: true })\n\t\t\t\t})\n\t\t\t}\n\t\t} catch (err) {\n\n\t\t}\n\t}\n\n\tasync UNSAFE_componentWillMount() {\n\t\tlet userId = this.props.match.params.id;\n\t\tlet usInfo = await GetUserInfo(userId);\n\t\tlet usInterest = await GetUserIntrests(userId);\n\t\tlet usLikes = await getUserLikes(userId);\n\t\tlet usVivsit = await VisitThisUser(userId);\n\t\tlet userAction = localStorage.getItem('userId');\n\t\tlet userActionInfo = await GetUserInfo(userAction);\n\n\t\tif (usLikes.data !== undefined)\n\t\t\tthis.setState({\n\t\t\t\tlikes: usLikes.data.likes,\n\t\t\t\tdislikes: usLikes.data.dislikes,\n\t\t\t});\n\n\t\tthis.checkShowLikes(userActionInfo);\n\t\tif (usInfo.data !== undefined) this.initProfileInformation(usInfo.data);\n\n\t\tif (usInterest !== undefined && usInterest.code === 200)\n\t\t\tthis.initInterestArray(usInterest.data);\n\n\t\tsetTimeout(() => {\n\t\t\tlet likes = this.state.likes;\n\t\t\tlet dislike = this.state.dislikes;\n\t\t\tthis.setState({\n\t\t\t\tcountLikes: likes,\n\t\t\t\tcountDislikes: dislike,\n\t\t\t});\n\n\t\t\tlet data = {\n\t\t\t\tid: userAction + userId,\n\t\t\t\ttitle: 'visit',\n\t\t\t\tfullname: '',\n\t\t\t\tmsg: ' has visited your profile',\n\t\t\t\tlikerId: userAction,\n\t\t\t\tlikedId: userId,\n\t\t\t\ttime: Moment(),\n\t\t\t};\n\n\t\t\tthis.state.socket.emit('likeUser', data);\n\t\t}, 300);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.state.socket.disconnect(true);\n\t}\n\n\tcomponentDidMount() {\n\t\tlet room = localStorage.getItem('userId');\n\t\tthis.state.socket.connect(true);\n\t\tthis.state.socket.emit('join', room);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Navbar />\n\t\t\t\t<ToastContainer />\n\t\t\t\t<div className='content-wrapper'>\n\t\t\t\t\t{/* item1 */}\n\t\t\t\t\t<div className='user-pic'>\n\t\t\t\t\t\t{this.state.oldProfilePhoto &&\n\t\t\t\t\t\t\tthis.state.profilePhoto === '' ? (\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\tthis.state.oldProfilePhoto\n\t\t\t\t\t\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t\t\t\t\t\t.substring(0, 4) !== 'http'\n\t\t\t\t\t\t\t\t\t\t\t? process.env.REACT_APP_API_URL +\n\t\t\t\t\t\t\t\t\t\t\t'/' +\n\t\t\t\t\t\t\t\t\t\t\tthis.state.oldProfilePhoto\n\t\t\t\t\t\t\t\t\t\t\t: this.state.oldProfilePhoto\n\t\t\t\t\t\t\t\t\t} style={{\n\t\t\t\t\t\t\t\t\t\theight: '150px',\n\t\t\t\t\t\t\t\t\t\twidth: \"150px\",\n\t\t\t\t\t\t\t\t\t\tmarginLeft: '25%',\n\t\t\t\t\t\t\t\t\t\t'border-radius': '50%',\n\t\t\t\t\t\t\t\t\t\tborder: '5px solid #FEDE00',\n\t\t\t\t\t\t\t\t\t\t'margin-top': '30px',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclass='img-responsive'\n\t\t\t\t\t\t\t\t\talt=''\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<div className='l-heading1'>\n\t\t\t\t\t\t\t{this.state.firstname} {this.state.lastname}\n\t\t\t\t\t\t\t<div className={this.state.online ? \"online-status on\" : \"online-status off\"}></div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h5\n\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '12px' }}\n\t\t\t\t\t\t\t\t\tclassName='text-muted text-center'>\n\t\t\t\t\t\t\t\t\t{this.state.online === 0\n\t\t\t\t\t\t\t\t\t\t? \"This user Was online \" + Moment(this.state.updatedAt).fromNow()\n\t\t\t\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t\t\t\t</h5>\n\n\t\t\t\t\t\t\t\t<h5\n\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '12px' }}\n\t\t\t\t\t\t\t\t\tclassName='text-muted text-center'>\n\t\t\t\t\t\t\t\t\t{this.state.userHasLikedMe === true\n\t\t\t\t\t\t\t\t\t\t? 'This User liked me'\n\t\t\t\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<ul className='list-group list-group-unbordered text-center'>\n\t\t\t\t\t\t\t<li className='list-group-item'>\n\t\t\t\t\t\t\t\t{this.state.showLikes === false ? (\n\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handlelikes(e, 0);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-primary'>\n\t\t\t\t\t\t\t\t\t\t\t\tLike {this.state.likes}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.handlelikes(e, 1);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-warning'>\n\t\t\t\t\t\t\t\t\t\t\t\tDislike {this.state.dislikes}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\tthis.handleBlock(e);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName='btn btn-danger'>\n\t\t\t\t\t\t\t\t\tBlock\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\tthis.handleReport(e);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tclassName='btn btn-danger'>\n\t\t\t\t\t\t\t\t\tReport\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* item2 */}\n\t\t\t\t\t<div className='profile-detail'>\n\t\t\t\t\t\t<nav\n\t\t\t\t\t\t\tclass='navbar navbar-light bg-light'\n\t\t\t\t\t\t\tstyle={{ 'border-radius': '10px', 'margin-top': '20px' }}>\n\t\t\t\t\t\t\t<ul className='l-heading2'>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a ref=''>Profile</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a ref=''>Pictures</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</nav>\n\n\t\t\t\t\t\t<div class='detail-list'>\n\t\t\t\t\t\t\t<div style={{ 'margin-top': '15px' }}>\n\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\tPseudo : {this.state.psudonym}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='detail-list'>Age : {this.state.age}</div>\n\t\t\t\t\t\t<div class='detail-list'>Gender : {this.state.gender}</div>\n\t\t\t\t\t\t<div class='detail-list'>Location : {this.state.location}</div>\n\t\t\t\t\t\t<div class='detail-list'>\n\t\t\t\t\t\t\tSexual Orientation : {this.state.SexualOrientation}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='detail-list'>\n\t\t\t\t\t\t\tProfile Completion : {this.state.ProfileCompletion}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='detail-list'>Fame : {this.state.Fame}</div>\n\t\t\t\t\t\t<div class='detail-list'>\n\t\t\t\t\t\t\tInterests :\n\t\t\t\t\t\t\t{this.state.selectedOption\n\t\t\t\t\t\t\t\t? this.state.selectedOption.map((hobi, i) => {\n\t\t\t\t\t\t\t\t\treturn <p key={i}>{hobi.label}</p>;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='detail-list'>\n\t\t\t\t\t\t\tAbout\n\t\t\t\t\t\t\t<div className='detail-list-about'>\n\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\tvalue={this.state.Bibliography}\n\t\t\t\t\t\t\t\t\tid='Bibliography'\n\t\t\t\t\t\t\t\t\tname='Bibliography'\n\t\t\t\t\t\t\t\t\trows='5'\n\t\t\t\t\t\t\t\t\tcols='42'\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}></textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='content-wrapper'>\n\t\t\t\t\t<section className='content'>\n\t\t\t\t\t\t<div class='container'>\n\t\t\t\t\t\t\t<div class='profile-userpic'>\n\t\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t\t<div className='col-md-12'>\n\t\t\t\t\t\t\t\t\t\t<div className='box box-primary' id='fixMarginTop'>\n\t\t\t\t\t\t\t\t\t\t\t<div className='box-body box-profile'>\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.oldProfilePhoto &&\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.profilePhoto === '' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='profile-user-img img-responsive img-circle'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.oldProfilePhoto\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.substring(0, 4) !== 'http'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? process.env.REACT_APP_API_URL +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'/' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.oldProfilePhoto\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: this.state.oldProfilePhoto\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt='pic holder'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className='box box-primary'>\n\t\t\t\t\t\t\t\t\t<div className='box-body'>\n\t\t\t\t\t\t\t\t\t\t<div className='input-group image-preview col-md-10 col-md-offset-2'>\n\t\t\t\t\t\t\t\t\t\t\t{this.state.oldMultiPhotos &&\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.multiPhotos.length === 0\n\t\t\t\t\t\t\t\t\t\t\t\t? this.state.oldMultiPhotos.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t(oldProfilePhoto, index) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '200px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='img-responsive center-block'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toldProfilePhoto.indexOf('http') !== 1\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? process.env.REACT_APP_API_URL +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'/' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toldProfilePhoto\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: oldProfilePhoto\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt='pic holder'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t{/* <p style={{ height: '140px', lineHeight: '20px', overflow: 'hidden' }}>\n                                                {this.state.note}\n                                            </p> */}\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<hr></hr>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</section>\n\t\t\t\t</div>\n\t\t\t\t<Footer />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ProfileDetails;\n","import axios from \"axios/index\";\n\nexport function PutUpdateUserUnlikes(unliked_userId) {\n\n    return new Promise(async (resolve, reject) => {\n        const token = localStorage.getItem(\"token\");\n        const userId = localStorage.getItem(\"userId\");\n\n        axios.post(process.env.REACT_APP_API_URL + \"/users/unlikes\", {\n            unliker_user_id: userId,\n            has_been_unliked_user_id: unliked_userId\n        }, {\n            headers: {\n                \"Authorization\": `Bearer ` + token\n            }\n        })\n            .then(results => {\n                resolve(results.data)\n            })\n            .catch(err => {\n                resolve(false);\n            });\n\n    })\n}","import React, { Component } from 'react'\nimport { Link } from \"react-router-dom\";\nimport io from 'socket.io-client';\n\nexport class NotificationItem extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            socket: io(process.env.REACT_APP_API_URL),\n        }\n    }\n\n    UNSAFE_componentWillMount() {\n        let room = localStorage.getItem(\"userId\");\n        this.state.socket.connect(true);\n        this.state.socket.emit('join', room);\n    }\n\n    componentDidMount() {\n        let room = localStorage.getItem(\"userId\");\n        this.state.socket.emit('initNotification', room)\n    }\n\n    componentWillUnmount() {\n        this.state.socket.disconnect(true);\n    }\n\n    render() {\n\n        const { from, option, date, id } = this.props.notif;\n        let type = '';\n        let styling = {};\n        let type_ico = '';\n        let message = '';\n        let type_message = '';\n        if (option.type === 'message') {\n            type = 'alert alert-success';\n            type_ico = 'fa fa-envelope text-blue';\n            type_message = ' has sent you a message';\n            styling = { border: '1px solid blue' };\n            //Salut Salut je m'apelle Patricia et mon prenom commence par un P comme patapouf\n            if (option.message !== null)\n                message = option.message;\n        } else if (option.type === 'visit') {\n            type = 'alert alert-warning';\n            type_ico = 'fa fa-eye';\n            type_message = ' has visited profil.';\n        } else if (option.type === 'like') {\n            type = 'alert alert-info';\n            type_ico = 'fa fa-thumbs-up';\n            type_message = ' liked your profile'\n        } else if (option.type === 'dislike') {\n            type = 'alert alert-warning';\n            type_ico = 'fa fa-thumbs-down';\n            type_message = ' disliked your profile'\n        } else if (option.type === 'block') {\n            type = 'alert alert-danger';\n            type_ico = 'fa fa-ban';\n            type_message = ' blocked your profile'\n        }  else if (option.type === 'report') {\n            type = 'alert alert-danger';\n            type_ico = 'fa fa-ban';\n            type_message = ' reported your profile'\n        } else if (option.type === 'unlike') {\n            type = 'alert alert-info';\n            type_ico = 'fa fa-trash';\n            type_message = ' unliked your profile'\n        }\n\n        if (option.read === true) {\n            type = 'alert alert-success';\n            styling = {};\n            if (option.type === 'message') {\n                type_ico = 'fa fa-envelope';\n            }\n        }\n\n        return (\n            <div className={type} style={styling}>\n                <div className=\"\" style={{ display: 'flex', justifyContent: 'center' }}>\n                    <div className=\"col-md-auto\">\n                        <i className={type_ico} style={{ marginRight: '10px' }}></i>\n                        <Link style={{ color: 'white', textDecoration: 'none'}} to={`/profiledetail/${id}`}>\n                            <span><strong style={{ color: 'white', textDecoration: 'none', marginRight: '4px' }}>{from}</strong></span>\n                        </Link>\n                        {type_message} <em>{message}</em>\n                    </div>\n                    <div className=\"col col-lg-2\">\n                        {date}\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\n\nexport default NotificationItem;\n","import React, { Component } from 'react'\nimport NotificationItem from './NotificationItem';\nimport { GetuserNotifes } from '../../services/GetUserNotifi.service';\nimport Navbar from '../common/Navbar/Navbar';\nimport Moment from 'moment';\nimport io from 'socket.io-client';\n\nexport class NotificationsHome extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            notifs: [],\n            socketNotif: [],\n            socket: io(process.env.REACT_APP_API_URL),\n        }\n\n    }\n\n    async UNSAFE_componentWillMount() {\n        let response = await GetuserNotifes();\n        if (response.code === 200)\n            this.setState({\n                notifs: response.data\n            })\n        let room = localStorage.getItem(\"userId\");\n        this.state.socket.connect(true);\n        this.state.socket.emit('join', room);\n    }\n\n    componentDidMount() {\n        let dataNotif = this.state.socketNotif;\n        this.state.socket.on('userLikesList', (likes) => {\n            dataNotif = dataNotif.concat(likes)\n            this.setState({\n                socketNotif: dataNotif\n            })\n        })\n    }\n\n    componentWillUnmount() {\n        let room = localStorage.getItem(\"userId\");\n        this.state.socket.emit('initLikesList', room)\n        this.state.socket.disconnect(true);\n    } \n\n    render() {\n        return (\n            <>\n                <Navbar />\n\n                <div className=\"content-wrapper\">\n                    <link rel=\"stylesheet\" type=\"text/css\" href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\" />\n\n                    <section className=\"content\">\n                        <section className=\"content\">\n                            <div className=\"row\">\n                                <h1>NEW</h1>\n                                {this.state.socketNotif !== undefined ?\n                                    this.state.socketNotif.map((notif, i) => {\n                                        return <NotificationItem key={i} notif={{ id: notif.likerId, from: notif.fullname, option: { type: notif.title, read: false }, date: Moment(notif.time).fromNow() }} />\n                                    })\n                                    : \"\"}\n\n\n                                <h1>SEEN</h1>\n                                {this.state.notifs ?\n                                    this.state.notifs.map((notif, i) => {\n                                        return notif.seen === 0 ?\n                                            <NotificationItem key={i} notif={{ id: notif.id, from: notif.fullname, option: { type: notif.categorie, read: false }, date: Moment(notif.updatedAt).fromNow() }} />\n                                            : \"\"\n                                    })\n                                    : \"\"}\n                            </div>\n                        </section>\n                    </section>\n                </div>\n            </>\n        )\n    }\n}\n\nexport default NotificationsHome;\n","import axios from \"axios/index\";\n\nexport function GetCurrentUserInfo(userId) {\n    return new Promise(async (resolve, reject) => {\n        const token = localStorage.getItem(\"token\");\n\n        axios.get(process.env.REACT_APP_API_URL + \"/users/current/\" + userId, {\n            headers: {\n                \"Authorization\": `Bearer ` + token\n            }\n        })\n            .then(results => {\n                resolve(results.data)\n            })\n            .catch(err => {\n                resolve(false);\n            });\n    })\n}\n","import axios from \"axios/index\";\n\nexport function GetuserChatMsg(dest_userId) {\n    return new Promise(async (resolve, reject) => {\n        const token = localStorage.getItem(\"token\");\n        const userId = localStorage.getItem(\"userId\");\n\n        axios.get(process.env.REACT_APP_API_URL + \"/users/chat/messages/\" + userId + \"/\" + dest_userId, {\n            headers: {\n                \"Authorization\": `Bearer ` + token\n            }\n        })\n            .then(results => {\n                resolve(results.data)\n            })\n            .catch(err => {\n                resolve(\"\")\n            });\n    })\n}\n","import React from 'react';\nimport Navbar from '../common/Navbar/Navbar';\nimport './chat.css';\nimport { GetuserChatContact } from '../../services/GetUserChatContact.service';\nimport Moment from 'moment';\nimport { GetCurrentUserInfo } from '../../services/FetchCurrentUserInfo.service';\nimport { saveUserChatAction } from '../../services/SaveUserchatMsg.service';\nimport { GetuserChatMsg } from '../../services/GetUserChatMessages.service';\nimport io from 'socket.io-client';\nimport Footer from '../common/Footer/Footer';\n\nclass Chat extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsocket: io(process.env.REACT_APP_API_URL),\n\t\t\tfirstname: '',\n\t\t\tlastname: '',\n\t\t\tprofilePhoto: '',\n\t\t\tmsgContent: '',\n\t\t\tallUserChatContact: [],\n\t\t\tmessagesInfo: [],\n\t\t\tinitChatMessage: (\n\t\t\t\t<li className='left clearfix'>\n\t\t\t\t\t<span className='chat-img1 pull-left'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc='https://lh6.googleusercontent.com/-y-MY2satK-E/AAAAAAAAAAI/AAAAAAAAAJU/ER_hFddBheQ/photo.jpg'\n\t\t\t\t\t\t\talt='User Avatar'\n\t\t\t\t\t\t\tclassName='img-circle'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</span>\n\t\t\t\t\t<div className='chat-body1 clearfix'>\n\t\t\t\t\t\t<p class='chat-message'>\n\t\t\t\t\t\t\tHello I am a robot. Welcome to your chat box choose a user to\n\t\t\t\t\t\t\tstart chatting.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=''\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t'font-size': '11px',\n\t\t\t\t\t\t\t\t'font-family': 'Kumbh Sans, sans-serif',\n\t\t\t\t\t\t\t\t'padding-left': '10px',\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t09:40PM\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t),\n\t\t};\n\n\t\tthis.sendMessageToUser = this.sendMessageToUser.bind(this);\n\t\tthis.selectChatContact = this.selectChatContact.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tlet room = localStorage.getItem('userId');\n\t\tthis.state.socket.connect(true);\n\t\tthis.state.socket.emit('join', room);\n\t\tthis.state.socket.on('send-new-msg', (msg) => {\n\t\t\tif (this.state.messagesInfo.dest_userId !== undefined) {\n\t\t\t\tlet allMsg = this.state.messagesInfo;\n\t\t\t\tallMsg.messages.push(msg);\n\t\t\t\tthis.setState({\n\t\t\t\t\tmessagesInfo: allMsg,\n\t\t\t\t});\n\t\t\t\t// var elmnt = document.getElementById(\"content\");\n\t\t\t\t// elmnt.scrollIntoView();\n\t\t\t}\n\t\t});\n\t}\n\n\thandleChange(event) {\n\t\tevent.preventDefault();\n\t\tconst target = event.target;\n\t\tconst value = target.type === 'checkbox' ? target.checked : target.value;\n\t\tconst name = target.name;\n\n\t\tthis.setState({\n\t\t\t[name]: value,\n\t\t});\n\t}\n\n\tsendMessageToUser(e) {\n\t\te.preventDefault();\n\t\tlet Allmessages = [];\n\t\tlet socketMsg = {};\n\t\tif (\n\t\t\tthis.state.messagesInfo.length !== 0 &&\n\t\t\tthis.state.messagesInfo.messages\n\t\t) {\n\t\t\tAllmessages = this.state.messagesInfo;\n\t\t\tsocketMsg = {\n\t\t\t\tpos: 'left',\n\t\t\t\tphoto: this.state.profilePhoto,\n\t\t\t\tmsgData: this.state.msgContent,\n\t\t\t\tdata: Moment(),\n\t\t\t};\n\n\t\t\tAllmessages.messages.push({\n\t\t\t\tpos: 'right',\n\t\t\t\tphoto: this.state.profilePhoto,\n\t\t\t\tmsgData: this.state.msgContent,\n\t\t\t\tdata: Moment(),\n\t\t\t});\n\t\t\tthis.setState({\n\t\t\t\tmessagesInfo: Allmessages,\n\t\t\t});\n\n\t\t\tsaveUserChatAction(Allmessages);\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.state.socket.emit('new-msg', {\n\t\t\t\t\tmsg: socketMsg,\n\t\t\t\t\troom: this.state.messagesInfo.dest_userId,\n\t\t\t\t});\n\t\t\t\tthis.setState({\n\t\t\t\t\tmsgContent: '',\n\t\t\t\t});\n\n\t\t\t\tlet data = {\n\t\t\t\t\tid:\n\t\t\t\t\t\tparseInt(this.state.messagesInfo.source_userId) +\n\t\t\t\t\t\tparseInt(this.state.messagesInfo.dest_userId),\n\t\t\t\t\ttitle: 'message',\n\t\t\t\t\tfullname: '',\n\t\t\t\t\tmsg: ' messaged you on chatApp ',\n\t\t\t\t\tlikerId: parseInt(this.state.messagesInfo.source_userId),\n\t\t\t\t\tlikedId: parseInt(this.state.messagesInfo.dest_userId),\n\t\t\t\t\ttime: Moment(),\n\t\t\t\t};\n\t\t\t\tthis.state.socket.emit('likeUser', data);\n\t\t\t}, 200);\n\t\t} else {\n\t\t\tconsole.log('Please choose a user to chat with !');\n\t\t}\n\n\t\t// var elmnt = document.getElementById(\"content\");\n\t\t// elmnt.scrollIntoView();\n\t}\n\n\tasync UNSAFE_componentWillMount() {\n\t\tlet userId = localStorage.getItem('userId');\n\t\tlet profileData = await GetCurrentUserInfo(userId);\n\t\tif (profileData.data) this.initProfileInformation(profileData.data);\n\n\t\tlet contactData = await GetuserChatContact();\n\n\t\tif (contactData !== '' && contactData.code === 200) {\n\t\t\tthis.setState({\n\t\t\t\tallUserChatContact: contactData.data,\n\t\t\t});\n\t\t}\n\t}\n\n\tasync selectChatContact(e, user) {\n\t\te.preventDefault();\n\t\tlet userId = localStorage.getItem('userId');\n\t\tlet userChatMsg = await GetuserChatMsg(user.userId);\n\n\t\tif (userChatMsg !== '' && userChatMsg.code === 200) {\n\t\t\tthis.initMegList(userChatMsg.data);\n\t\t}\n\n\t\t// Get all user messages sorted by date\n\t\t// init user objs\n\t\tthis.setState({\n\t\t\tmessagesInfo: {\n\t\t\t\tdest_userId: user.userId,\n\t\t\t\tsource_userId: userId,\n\t\t\t\tdest_fullname: user.fullname,\n\t\t\t\tdest_photo: user.profilePhoto,\n\t\t\t\tmessages: [],\n\t\t\t},\n\t\t});\n\n\t\tsetTimeout(() => {\n\t\t\t// var elmnt = document.getElementById(\"content\");\n\t\t\t// elmnt.scrollIntoView();\n\t\t}, 20);\n\t}\n\n\tgetProfilePicture(pictures, state) {\n\t\tlet pics = [];\n\t\tlet i = 0;\n\t\twhile (i < pictures.length) {\n\t\t\tif (pictures[i].state === state) pics.push(pictures[i].path);\n\t\t\ti++;\n\t\t}\n\n\t\treturn pics;\n\t}\n\n\tinitProfileInformation(data) {\n\t\tlet userInfo = data.info;\n\t\tlet profilePhoto = this.getProfilePicture(data.pictures, 1);\n\n\t\tthis.setState({\n\t\t\tfirstname: userInfo.firstname,\n\t\t\tlastname: userInfo.lastname,\n\t\t\tprofilePhoto: profilePhoto.length > 0 ? profilePhoto : '',\n\t\t});\n\t}\n\n\tinitMegList(msgs) {\n\t\tif (msgs && msgs.length > 0) {\n\t\t\tlet msgsList = [];\n\t\t\tmsgsList = msgs.map((msg) => {\n\t\t\t\treturn {\n\t\t\t\t\tpos:\n\t\t\t\t\t\tmsg.source_user_id ===\n\t\t\t\t\t\t\tparseInt(this.state.messagesInfo.source_userId)\n\t\t\t\t\t\t\t? 'right'\n\t\t\t\t\t\t\t: 'left',\n\t\t\t\t\tphoto:\n\t\t\t\t\t\tmsg.source_user_id ===\n\t\t\t\t\t\t\tparseInt(this.state.messagesInfo.source_userId)\n\t\t\t\t\t\t\t? this.state.profilePhoto\n\t\t\t\t\t\t\t: this.state.messagesInfo.dest_photo,\n\t\t\t\t\tmsgData: msg.message_text,\n\t\t\t\t\tdate: msg.createdAt,\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tlet msgInfo = this.state.messagesInfo;\n\t\t\tmsgInfo.messages = msgsList;\n\t\t\tthis.setState({\n\t\t\t\tmessagesInfo: msgInfo,\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\tlet styleLeft = {\n\t\t\tfontSize: '11px',\n\t\t\tfontFamily: 'Kumbh Sans, sans-serif',\n\t\t\tpaddingLeft: '10px',\n\t\t}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Navbar />\n\n\t\t\t\t<div className='chatroom-wdg'>\n\t\t\t\t\t<div className='chat_sidebar'>\n\t\t\t\t\t\t<div id='custom-search-input'>\n\t\t\t\t\t\t\t<div className='input-group col-md-12'>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tclassName='  search-query form-control'\n\t\t\t\t\t\t\t\t\tplaceholder='Conversation'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<button className='btn btn-danger' type='button'>\n\t\t\t\t\t\t\t\t\t<span className=' glyphicon glyphicon-search'></span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className='member_list'>\n\t\t\t\t\t\t\t<ul className='list-unstyled'>\n\t\t\t\t\t\t\t\t{this.state.allUserChatContact\n\t\t\t\t\t\t\t\t\t? this.state.allUserChatContact.map((user, i) => {\n\t\t\t\t\t\t\t\t\t\treturn user.profilePhoto !== '' ? (\n\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectChatContact(e, user);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='left clearfix'>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='chat-img pull-left'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser.profilePhoto\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.substring(0, 5) === 'https'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? user.profilePhoto\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: process.env.REACT_APP_API_URL +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'/' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser.profilePhoto\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt='User Avatar'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='img-circle'\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='chat-body clearfix'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='header_sec'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<strong className='primary-font'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{user.fullname}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <strong className=\"pull-right\"> */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* 09:45AM</strong> */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='contact_sec'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <strong className=\"primary-font\">(123) 123-456</strong> <span className=\"badge pull-right\">3</span> */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='message_section'>\n\t\t\t\t\t\t<div className='chat_area'>\n\t\t\t\t\t\t\t<ul className='list-unstyled'>\n\t\t\t\t\t\t\t\t{this.state.messagesInfo.length === 0\n\t\t\t\t\t\t\t\t\t? this.state.initChatMessage\n\t\t\t\t\t\t\t\t\t: ''}\n\t\t\t\t\t\t\t\t{this.state.messagesInfo.length !== 0 &&\n\t\t\t\t\t\t\t\t\tthis.state.messagesInfo.messages.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t<li className='left clearfix'>\n\t\t\t\t\t\t\t\t\t\t\t<div className='chat-body1 clearfix'>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\tNow chatting with{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<b>{this.state.messagesInfo.dest_fullname}</b>\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='chat_time pull-right'>09:40PM</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t{/* <li className=\"left clearfix\">\n                                                               <span className=\"chat-img1 pull-left\">\n                                                                  <img src=\"https://lh6.googleusercontent.com/-y-MY2satK-E/AAAAAAAAAAI/AAAAAAAAAJU/ER_hFddBheQ/photo.jpg\" alt=\"User Avatar\" className=\"img-circle\" />\n                                                               </span>\n                                                               <div className=\"chat-body1 clearfix\">\n                                                                  <p>Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classNameical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia.</p>\n                                                                  <div className=\"chat_time pull-right\">09:40PM</div>\n                                                               </div>\n                                                            </li> */}\n\n\t\t\t\t\t\t\t\t{this.state.messagesInfo.length !== 0 &&\n\t\t\t\t\t\t\t\t\tthis.state.messagesInfo.messages.length > 0\n\t\t\t\t\t\t\t\t\t? this.state.messagesInfo.messages.map((msg, i) => {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<li key={i} className='left clearfix admin_chat'>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className={'chat-img1 pull-' + msg.pos}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmsg.photo.toString().substring(0, 5) ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'https'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? msg.photo\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: process.env.REACT_APP_API_URL +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'/' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmsg.photo\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt='User Avatar'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='img-circle'\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ marginLeft: msg.pos == \"left\" ? '50px' : \"0px\" }} className='chat-body1 clearfix'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p style={{ background: msg.pos == \"left\" ? \"silver\" : \"#00B0FF\" }} >{msg.msgData}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='chat_time pull-left'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{Moment(msg.date).fromNow()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t: ''}\n\n\t\t\t\t\t\t\t\t{/* <li className='left clearfix admin_chat'>\n\t\t\t\t\t\t\t\t\t\t<span className={'chat-img1 pull-left'}>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"https://lh6.googleusercontent.com/-y-MY2satK-E/AAAAAAAAAAI/AAAAAAAAAJU/ER_hFddBheQ/photo.jpg\"\n\t\t\t\t\t\t\t\t\t\t\t\talt='User Avatar'\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='img-circle'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<div style={{marginLeft: '50px'}} className='chat-body1 clearfix'>\n\t\t\t\t\t\t\t\t\t\t\t<p style={{background: \"silver\"}} >Lorem ipsum dolor sit amet consectetur.</p>\n\t\t\t\t\t\t\t\t\t\t\t<div className='chat_time pull-left'>\n\t\t\t\t\t\t\t\t\t\t\t\t12/02/2020 12:30pm\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\n\n\t\t\t\t\t\t\t\t\t<li className='left clearfix admin_chat'>\n\t\t\t\t\t\t\t\t\t\t<span className={'chat-img1 pull-right'}>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"https://lh6.googleusercontent.com/-y-MY2satK-E/AAAAAAAAAAI/AAAAAAAAAJU/ER_hFddBheQ/photo.jpg\"\n\t\t\t\t\t\t\t\t\t\t\t\talt='User Avatar'\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='img-circle'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<div className='chat-body1 clearfix'>\n\t\t\t\t\t\t\t\t\t\t\t<p>Lorem ipsum dolor sit amet consectetur.</p>\n\t\t\t\t\t\t\t\t\t\t\t<div className='chat_time pull-right'>\n\t\t\t\t\t\t\t\t\t\t\t\t12/02/2020 12:30pm\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t\t\t\t<li style={{ marginBottom: '1.5vw' }} id='content'></li> */}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className='message_write'>\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\tname='msgContent'\n\t\t\t\t\t\t\t\tvalue={this.state.msgContent}\n\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\tplaceholder='type a message'></textarea>\n\t\t\t\t\t\t\t<div className='clearfix'></div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\tthis.sendMessageToUser(e);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName='chat_bottom'>\n\t\t\t\t\t\t\t\t<a href='#' className='pull-left btn btn-success'>\n\t\t\t\t\t\t\t\t\tSend\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Footer />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Chat;","import axios from \"axios/index\";\n\nexport function saveUserChatAction(data) {\n    return new Promise(async (resolve, reject) => {\n        const token = localStorage.getItem(\"token\");\n\n        axios.post(process.env.REACT_APP_API_URL + \"/users/chat\", data, {\n            headers: {\n                \"Authorization\": `Bearer ` + token\n            }\n        })\n            .then(results => {\n                resolve(results.data)\n            })\n            .catch(err => {\n                resolve(\"\")\n            });\n    })\n}","import axios from \"axios/index\";\n\nexport function GetuserChatContact() {\n    return new Promise(async (resolve, reject) => {\n        const token = localStorage.getItem(\"token\");\n        const userId = localStorage.getItem(\"userId\");\n        axios.get(process.env.REACT_APP_API_URL + \"/users/chat/\" + userId, {\n            headers: {\n                \"Authorization\": `Bearer ` + token\n            }\n        })\n            .then(results => {\n                resolve(results.data)\n            })\n            .catch(err => {\n                resolve(\"\")\n            });\n    })\n}\n","import React, { Component } from 'react'\n\nexport class SuggestionAlert extends Component {\n    render() {\n        return (\n            <div>\n                <div className=\"alert alert-warning\" role=\"alert\">\n                   <i></i> {this.props.message} <a href={this.props.link}>here</a>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default SuggestionAlert\n","import React, { Component } from 'react'\nimport { Range } from 'rc-slider';\nimport Select from 'react-select';\nimport { GetUserIntrests } from '../../services/GetAllInterests.service';\nimport { push } from \"react-router-redux\";\nimport ResultUser from '../Main/ResultUser';\nimport sort from 'fast-sort';\n\nexport class SuggestionList extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            sortBy: 'age',\n            lowerBound: 18,\n            upperBound: 75,\n            value: [18, 75],\n            SearchBar: '',\n            rangeFame: 0,\n            rangeLocalisation: 10000,\n            SearchBarTags: '',\n            interestsArray: [],\n            selectedOption: [],\n            location: \"\",\n            initialUsers: this.props.users,\n            userBuffer: []\n        }\n\n        this.handleUsersFilter = this.handleUsersFilter.bind(this);\n        this.onChange = this.onChange.bind(this);\n        this.handleSelectChange = this.handleSelectChange.bind(this);\n    }\n\n\n    async handleUsersFilter(e) {\n        e.preventDefault();\n        let filter = [{\n            userPos: this.state.location,\n            rangeFame: this.state.rangeFame,\n            age: this.state.value,\n            interests: this.state.selectedOption,\n            rangeLocalisation: parseInt(this.state.rangeLocalisation)\n        }]\n\n        await this.props.onfetchAllUsersPublicData(filter);\n    }\n\n    onLowerBoundChange = (e) => {\n        this.setState({ lowerBound: +e.target.value });\n    }\n    onUpperBoundChange = (e) => {\n        this.setState({ upperBound: +e.target.value });\n    }\n    onSliderChange = async (value) => {\n        this.setState({\n            value,\n        });\n        await this.filterUsers();\n        // console.log(this.state.value);\n    }\n    handleApply = () => {\n        const { lowerBound, upperBound } = this.state;\n        this.setState({ value: [lowerBound, upperBound] });\n    }\n\n    handleSelectChange = selectedOption => {\n        this.setState(\n            { selectedOption },\n        );\n        setTimeout(async () => {\n            await this.filterUsers();\n        }, 50);\n    };\n\n    onChange = async (e) => {\n        if (e.target.name !== 'sortBy') {\n            e.preventDefault();\n        }\n        this.setState({ [e.target.name]: e.target.value })\n\n        setTimeout(async () => {\n            await this.filterUsers();\n        }, 50);\n        // await this.filterUsers();\n        // console.log(this.state[e.target.name]);\n\n    }\n\n    async UNSAFE_componentWillMount() {\n        const userId = localStorage.getItem(\"userId\");\n        this.setState({ interestsArray: this.props.interestsArray })\n        // let results = await getUserIntrests(userId);\n\n        // if (userInterestData !== undefined && userInterestData.code === 200)\n        //     this.initInterestArray(userInterestData.data)\n        await this.filterUsers();\n    }\n\n\n    async filterUsers() {\n\n        let buffer = [];\n        buffer = this.state.initialUsers;\n\n        //FILTER\n        //filter by age\n        var AgeMin = this.state.value[0];\n        var AgeMax = this.state.value[1];\n        var tmpbuff = [];\n        buffer.forEach(user => {\n            if (user.age >= AgeMin && user.age <= AgeMax) {\n                tmpbuff.push(user);\n            }\n        });\n        buffer = tmpbuff;\n        //filter by fame\n        var fame = this.state.rangeFame;\n        var tmpbuff = [];\n        buffer.forEach(user => {\n            if (user.fame >= fame) {\n                tmpbuff.push(user);\n            }\n        });\n        buffer = tmpbuff;\n        //filter by dist\n        var dist = this.state.rangeLocalisation;\n        var tmpbuff = [];\n        buffer.forEach(user => {\n            if (user.distance <= dist) {\n                tmpbuff.push(user);\n            }\n        });\n        buffer = tmpbuff;\n        //filter by interests\n        var tagss = [];\n        var tmpbuff = [];\n        if (this.state.selectedOption !== null) {\n            this.state.selectedOption.forEach(element => {\n                tagss.push(element.value);\n            });\n        }\n        if (tagss.length !== 0) {\n            buffer.forEach(element => {\n                element.tags.forEach(tag => {\n                    tagss.forEach(filter_tag => {\n                        if (filter_tag === tag) {\n                            tmpbuff.push(element);\n                        }\n                    })\n                })\n            });\n            buffer = tmpbuff;\n        }\n\n        //SORT\n        //sort by fame and age\n        if (this.state.sortBy === 'fame' || this.state.sortBy === 'age') {\n            buffer = sort(buffer).asc(u => u[this.state.sortBy]);\n            this.setState({\n                userBuffer: buffer\n            })\n            //sort by distance\n        } else if (this.state.sortBy === 'location') {\n            buffer = sort(buffer).asc(u => u.distance);\n            this.setState({\n                userBuffer: buffer\n            })\n            //sort by tags\n        } else if (this.state.sortBy === 'tags') {\n            //on a une liste de tags.\n            //on veut que les utilisateurs qui ont le premier element de la liste de tags arrive en premier puis les deuxieme arrive ensuite\n            var tags = [];\n            if (this.state.interestsArray !== null) {\n                this.state.interestsArray.forEach(element => {\n                    tags.push(element.value);\n                });\n            }\n            var newbuffer = [];\n            tags.forEach(tagfromlist => {\n                buffer.forEach(element => {\n                    element.tags.forEach(taguser => {\n                        if (taguser === tagfromlist) {\n                            newbuffer.push(element);\n                        }\n                    });\n                });\n            });\n            buffer = newbuffer;\n            this.setState({\n                userBuffer: buffer\n            })\n        }\n    }\n\n    render() {\n\n        let filteredUsers = this.state.userBuffer;\n\n        return (\n            <div>\n                <form style={{ 'marginBottom': '2rem' }}>\n                    <div className=\"\" style={{ display: 'flex', 'justifyContent': 'space-around' }}>\n                        <div className=\"\" style={filterStyle}>\n                            <h4>Age</h4>\n                            <p>from {this.state.value[0]} to {this.state.value[1]}</p>\n                            {/* <p>from {this.state.rangeAgeFrom} years old</p>\n                        <input type=\"range\" className=\"custom-range\" id=\"rangeAgeFrom\" name=\"rangeAgeFrom\" min=\"18\" max=\"79\" value={this.state.rangeAgeFrom} onChange={this.onChange} />\n                        <p>to {this.state.rangeAgeTo} years old</p>\n                        <input type=\"range\" className=\"custom-range\" id=\"rangeAgeTo\" name=\"rangeAgeTo\" min=\"19\" max=\"80\" value={this.state.rangeAgeTo} onChange={this.onChange} /> */}\n                            <Range allowCross={false} value={this.state.value} onChange={this.onSliderChange} />\n\n                            <h4>Fame</h4>\n                            <p>search users above {this.state.rangeFame} Fame</p>\n                            <input type=\"range\" className=\"custom-range\" id=\"rangeFame\" name=\"rangeFame\" min=\"0\" max=\"100\" value={this.state.rangeFame} onChange={this.onChange} />\n                        </div>\n                        <div className=\"\" style={filterStyle}>\n                            <h4>Localisation</h4>\n                            <p>search users {this.state.rangeLocalisation}km{`${this.state.rangeLocalisation > 1 ? 's' : ''}`} from you</p>\n                            <input type=\"range\" className=\"custom-range\" id=\"rangeLocalisation\" name=\"rangeLocalisation\" min=\"1\" max=\"10000\" value={this.state.rangeLocalisation} onChange={this.onChange} />\n                            <h4>Interests</h4>\n                            <Select\n                                isMulti\n                                isSearchable\n                                placeholder=\"Filter interests\"\n                                value={this.state.selectedOption}\n                                onChange={this.handleSelectChange}\n                                options={this.state.interestsArray}\n                            />\n                        </div>\n                    </div>\n                    <div style={{ padding: '2rem' }}>\n                        <div style={{ backgroundColor: 'grey', height: '2rem', display: 'flex', justifyContent: 'center', alignItems: 'center' }}> <h4>SORT BY</h4></div>\n                        <div style={{ backgroundColor: 'grey', height: '5rem', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n                            <div style={somemargin}>\n                                <div>Age</div>\n                                <input type=\"radio\" name=\"sortBy\" value=\"age\" checked={this.state.sortBy === 'age'} onChange={this.onChange} />\n                            </div>\n                            <div style={somemargin}>\n                                <div>Distance</div>\n                                <input type=\"radio\" name=\"sortBy\" value=\"location\" checked={this.state.sortBy === 'location'} onChange={this.onChange} />\n                            </div>\n                            <div style={somemargin}>\n                                <div>Tags</div>\n                                <input type=\"radio\" name=\"sortBy\" value=\"tags\" checked={this.state.sortBy === 'tags'} onChange={this.onChange} />\n                            </div>\n                            <div style={somemargin}>\n                                <div>Fame</div>\n                                <input type=\"radio\" name=\"sortBy\" value=\"fame\" checked={this.state.sortBy === 'fame'} onChange={this.onChange} />\n                            </div>\n                        </div>\n\n                    </div>\n                </form>\n                <ResultUser users={filteredUsers} />\n            </div>\n\n        )\n    }\n}\n\nconst somemargin = { textAlign: 'center', width: '24%' }\n\nconst filterStyle = {\n    width: '45%',\n    float: 'left',\n    padding: '1rem',\n    'backgroundColor': 'lightgray',\n    'marginTop': '2rem'\n};\n\nexport default SuggestionList;\n","import React, { Component } from 'react'\nimport SuggestionAlert from './SuggestionAlert';\nimport { GetUserInfo } from '../../services/FetchUserInfo.service';\nimport { getUserLocation } from '../../services/GetUserLocation.service';\nimport { GetCurrentUserInfo } from '../../services/FetchCurrentUserInfo.service';\nimport { fetchAllUsersPublicData } from '../../pages/Main/Home.service';\nimport SuggestionList from './SuggestionList';\nimport { GetUserIntrests } from '../../services/GetAllInterests.service';\nimport Navbar from '../common/Navbar/Navbar';\nimport Footer from '../common/Footer/Footer';\n\nexport class Suggestion extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstname: \"\",\n      singleHObbi: \"\",\n      psudonym: \"\",\n      lastname: \"\",\n      email: \"\",\n      age: \"\",\n      multiPhotos: [],\n      interestsArray: [],\n      SexualOrientation: \"\",\n      ProfileCompletion: \"\",\n      gender: \"\",\n      location: \"\",\n      Fame: \"\",\n      Bibliography: \"\",\n      selectedOption: [],\n      users: []\n    };\n  }\n\n  initProfileInformation(data) {\n    let userInfo = data.info;\n\n    let userInterests = data.tags;\n\n    this.setState({\n      firstname: userInfo.firstname,\n      psudonym: userInfo.pseudo,\n      lastname: userInfo.lastname,\n      email: userInfo.email,\n      age: userInfo.age,\n      selectedOption: userInterests,\n      SexualOrientation: userInfo.sexual_orientation,\n      ProfileCompletion: userInfo.profile_completion,\n      gender: userInfo.gender,\n      location: userInfo.localisation,\n      Fame: userInfo.fame,\n      Bibliography: userInfo.bio,\n    })\n  }\n\n  initUsers(users) {\n    this.setState({\n      users: users\n    });\n  }\n\n  initInterestArray(interests) {\n    this.setState({\n      interestsArray: interests\n    })\n  }\n\n  async UNSAFE_componentWillMount() {\n    const userId = localStorage.getItem(\"userId\");\n\n    let dataLocation = await getUserLocation();\n    if (this.state.location === \"\" && dataLocation !== \"\")\n      this.setState({\n        location: dataLocation\n      })\n\n    let userInterestData = GetUserIntrests(userId);\n    if (userInterestData !== undefined && userInterestData.code === 200)\n      this.initInterestArray(userInterestData.data)\n\n\n    let dataUserInfo = await GetUserInfo(userId);\n    if (dataUserInfo.data !== undefined)\n      this.initProfileInformation(dataUserInfo.data);\n\n    let filter = {};\n\n    setTimeout(async (filter) => {\n      var tag_array = [];\n      if (this.state.selectedOption !== null) {\n        this.state.selectedOption.forEach(element => {\n          tag_array.push(element.value);\n        });\n      }\n      filter = { Suggestion: true, fame: parseInt(this.state.Fame), location: this.state.location, age: this.state.age, tags: tag_array, wants: this.state.SexualOrientation };\n\n      let dataFetchAllUser = await fetchAllUsersPublicData(filter);\n      if (dataFetchAllUser !== undefined && dataFetchAllUser.code === 200)\n        this.initUsers(dataFetchAllUser.data);\n\n    }, 600);\n  }\n\n  render() {\n    return (\n      <div>\n        <Navbar />\n        <div className=\"content-wrapper\">\n          <section className=\"content\">\n            <section className=\"content\">\n              <br />\n              <br />\n              <br />\n              <br />\n              {this.state.ProfileCompletion < 8 ? <SuggestionAlert link={'/profile'} message={'Your profile is not complete, please update it'} /> :\n                <div>\n                  {this.state.users.length === 0 ? <div> Hmm strange, we didn't find anybody that fit your profile. Please make sure you added some popular tags to your profile. Or maybe you have nobody in a 10 000km radius that fits your sexual preferences</div> :\n                    <SuggestionList users={this.state.users} interestsArray={this.state.selectedOption} />\n                  }\n                </div>\n              }\n            </section>\n          </section>\n        </div>\n        <Footer />\n     </div>\n    )\n  }\n}\n\nexport default Suggestion;","import React from 'react';\nimport {\n\tBrowserRouter as Router,\n\tSwitch,\n\tRedirect,\n\tRoute,\n} from 'react-router-dom';\n\n// Import pages\nimport Login from './components/pages/Login/Login';\nimport Signup from './components/pages/Signup/Signup';\nimport ForgotPass from './components/pages/ForgotPass/ForgotPass';\nimport Home from './components/pages/Main/Home';\nimport Logout from './components/pages/Logout/Logout';\nimport EditProfile from './components/pages/Profile/EditProfile';\nimport ProfileDetail from './components/pages/ProfileDetail/ProfileDetail';\nimport Notifications from './components/pages/Notifications/NotificationsHome.js';\nimport Chat from './components/pages/Chat/chat';\nimport Suggestion from './components/pages/Suggestion/Suggestion';\n\n// Third party libraries\nimport decode from 'jwt-decode';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'rc-slider/assets/index.css';\n\nrequire('dotenv').config();\n\nfunction App() {\n\tconst checkAuth = () => {\n\t\tconst token = localStorage.getItem('token');\n\t\tif (!token) {\n\t\t\treturn false;\n\t\t}\n\n\t\ttry {\n\t\t\t// { exp: 12903819203 }\n\t\t\tconst { exp } = decode(token);\n\n\t\t\tif (exp < new Date().getTime() / 1000) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tconst AuthRoute = ({ component: Component, ...rest }) => (\n\t\t<Route\n\t\t\t{...rest}\n\t\t\trender={(props) =>\n\t\t\t\tcheckAuth() ? (\n\t\t\t\t\t<Component {...props} />\n\t\t\t\t) : (\n\t\t\t\t\t<Redirect to={{ pathname: '/login' }} />\n\t\t\t\t)\n\t\t\t}\n\t\t/>\n\t);\n\n\treturn (\n\t\t<div className='row'>\n\t\t\t<Router>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path='/signup' component={Signup} />\n\t\t\t\t\t<Route exact path='/login' component={Login} />\n\t\t\t\t\t<AuthRoute exact path='/editprofile' component={EditProfile} />\n\t\t\t\t\t<Route exact path='/forgotPass' component={ForgotPass} />\n\t\t\t\t\t<AuthRoute exact path='/' component={Home} />\n\t\t\t\t\t<AuthRoute exact path='/chatroom' component={Chat} />\n\t\t\t\t\t<AuthRoute exact path='/notifications' component={Notifications} />\n\t\t\t\t\t<AuthRoute\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath='/profiledetail/:id'\n\t\t\t\t\t\tcomponent={ProfileDetail}\n\t\t\t\t\t/>\n\t\t\t\t\t<AuthRoute exact path='/logout' component={Logout} />\n\t\t\t\t\t<AuthRoute exact path='/suggestion' component={Suggestion} />\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { HashRouter } from \"react-router-dom\";\nimport { Router } from 'react-router'\nconst createHistory = require(\"history\").createBrowserHistory;\n\nconst history = createHistory();\n\nReactDOM.render(\n    <Router history={history}>\n      <div>\n          <HashRouter>\n        <App />\n        </HashRouter>\n      </div>\n    </Router>, document.getElementById('root'));\nserviceWorker.unregister();\n","import { toast } from 'react-toastify';\n\nexport const fireNotification  = (style, msg) => {\n    toast[style](msg, {\n        position: toast.POSITION.TOP_RIGHT\n    })\n}"],"sourceRoot":""}